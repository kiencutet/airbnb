__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,babelHelpers.interopRequireDefault(r(d[0])).default)({svgContents:"<path d=\"M16 .33a15.67 15.67 0 1 1 0 31.34A15.67 15.67 0 0 1 16 .33zm0 2a13.67 13.67 0 1 0 0 27.34 13.67 13.67 0 0 0 0-27.34zm1 3v10.1l8.74 5.04-1 1.73L15 16.58V5.33z\" />",svgProps:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},'IcSystemClock32',{defaultSize:32});e.default=t}),"02ec99",["c65865"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExploreSelectSearchLocationEvent=void 0;var o={defaultProps:{schema:'com.airbnb.jitney.event.logging.Explore:ExploreSelectSearchLocationEvent:2.0.0',event_name:'explore_select_search_location',page:'explore',target:'search_location',operation:4},propTypes:{}};e.ExploreSelectSearchLocationEvent=o,o.fullyQualifiedName='Explore.v2.ExploreSelectSearchLocationEvent'}),"058079",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),s=babelHelpers.interopRequireDefault(r(d[1])),n=r(d[2]);function o(){const t=babelHelpers.interopRequireDefault(r(d[3]));return o=function(){return t},t}function u(){return Promise.resolve(o().default.get('/api/v2/user_markets',{searchParams:o().default.params({language:t.default.language()})})).then(t=>{var s,n;return null!==(s=null==t||null===(n=t.user_markets)||void 0===n?void 0:n[0])&&void 0!==s?s:{}})}const c=Object.freeze({expires:6048e5});var h=new class{constructor(){this.data=void 0,this.currentFetch=void 0,this.synced=void 0,this.fetch=void 0,this.data=(0,s.default)("explore_satori_market")||{satori_version:(0,s.default)("explore_satori_version")},this.currentFetch=null,this.synced=!1,this.fetch=u}resetClassConstructor(t){t.data=(0,s.default)("explore_satori_market")||{satori_version:(0,s.default)("explore_satori_version")},t.currentFetch=null,t.synced=!1,t.fetch=u}initForTest(t={},s){this.data=t,this.fetch=s||this.fetch}resetForTest(){this.resetClassConstructor(this)}sync(){return this.currentFetch?this.currentFetch:this.synced?Promise.resolve({}):(this.currentFetch=this.fetch().then(t=>{const n=t.satori_version!==this.data.satori_version;return(0,s.default)("explore_satori_market",t,c),this.data=t,this.currentFetch=null,this.synced=!0,{versionChanged:n}}).catch(t=>(this.currentFetch=null,(0,n.warn)(t),{})),this.currentFetch)}getMarket(){return this.data.market}getConfigToken(){return this.data.config_token}getLoggingData(){return{market:this.getMarket(),region:this.getRegionId(),countryCode:this.getCountryCode(),configToken:this.getConfigToken()}}getCountryCode(){var s,n;return null!==(s=null===(n=this.data)||void 0===n?void 0:n.country_code)&&void 0!==s?s:t.default.country()}getRegionId(){return this.data.region_id}getData(){return this.data||{}}};e.default=h}),"089e7c",["862e50","1f339e","f2f40f","69a7c4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,o=['simple_search',(0,s.getFlexDestTreatmentFlagForAutosuggest)(),'im_flexible_may_2022_treatment']){const f=(0,t.useRef)(new n.default),[c,p]=(0,t.useState)(null),_=(0,t.useRef)(new Map),b=[l,o.toString()].filter(Boolean).join('|');return(0,t.useEffect)(()=>{let t=!1;const n=_.current.get(b);if(!(null!=n&&n.expires-(0,u.default)().now()>=0)||t)return f.current.init({autosuggestOptions:o,...l&&{refinementPaths:[l]}}).then(()=>f.current.sections()).then(n=>{t||(null!=n&&_.current.set(b,{expires:(0,u.default)().now()+3e4,sections:n}),p(n))}),()=>{t=!0};p(n.sections)},[b]),c};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1])),u=babelHelpers.interopRequireDefault(r(d[2])),s=r(d[3])}),"0b11b5",["a27fc3","30d4b3","5d602b","bcc3e3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(null==g.document)return;document.activeElement&&document.activeElement.blur();document.documentElement&&document.documentElement.focus()}}),"0c93d9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.satoriQuery=P;var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]);function s(){const t=r(d[2]);return s=function(){return t},t}var o=babelHelpers.interopRequireDefault(r(d[3])),l=babelHelpers.interopRequireDefault(r(d[4])),u=r(d[5]),c=babelHelpers.interopRequireDefault(r(d[6])),p=r(d[7]),_=r(d[8]),f=r(d[9]);function y(){const t=babelHelpers.interopRequireDefault(r(d[10]));return y=function(){return t},t}function T(){const t=babelHelpers.interopRequireDefault(r(d[11]));return T=function(){return t},t}var h=babelHelpers.interopRequireDefault(r(d[12])),E=babelHelpers.interopRequireDefault(r(d[13])),S=babelHelpers.interopRequireDefault(r(d[14])),b=babelHelpers.interopRequireDefault(r(d[15])),v=r(d[16]);function P(P,{userMarket:A,currentTab:O,shouldFilterByVerticalRefinement:I,maxResults:M,locationOnly:D,hideNavResults:R,isSimpleSearch:x,isCityLevelSearch:H,isKeywordSearch:C,chinaSearchTab:N,parentCityPlaceId:L,autocompleteVertical:w,mapBounds:V,excludeListingNames:k,flexDestTreatmentFlag:q,shouldShowStays:G=!0,endpoint:U,customAutocompleteOptions:j}={}){const B=null!=U?U:(0,S.default)(A),F=(0,h.default)(A),X=(0,E.default)(A),Y={country:A?A.country_code:'',key:y().default.key(),language:t.default.language(),locale:O===u.EXPLORE_TABS.LUXURY_RETREATS?'':(null==A?void 0:A.locale)||t.default.locale(),num_results:5,user_input:P,api_version:F,satori_config_token:X},K=O&&(Q=O,Object.prototype.hasOwnProperty.call(u.TAB_PATHS,Q))?u.TAB_PATHS[O]:void 0;var Q;if(w?Y.vertical_refinement=w:K&&(Y.vertical_refinement=K),null!=A&&A.region_id&&(Y.region=String(A.region_id)),L&&(Y.place_id=L),V){const{ne:{lat:t,lng:n},sw:{lat:s,lng:o}}=V;Y.ne_lat=t,Y.ne_lng=n,Y.sw_lat=s,Y.sw_lng=o}const z=[!1!==I&&'should_filter_by_vertical_refinement',D&&'show_only_locations',R&&'hide_nav_results',G&&'should_show_stays',x&&'simple_search',H&&'city_level_search',C&&L&&'keyword_search_with_city_selected',C&&!L&&'keyword_search_without_city_selected','DOMESTIC'===N&&'china_domestic_selected','OUTBOUND'===N&&'china_outbound_selected',k&&'exclude_listing_names',q,...j||[]].filter(Boolean);Y.options=z.join('|');const J=(0,c.default)().now();return(function(t,n){return T().default.fetch({url:t,method:'GET',searchParams:T().default.params(n)}).then(({result:t,response:n})=>{var s;return(t.experiments_to_log||[]).forEach(t=>{null!=t&&t.name&&t.group&&o.default.logCustomHashing(t.name,t.group)}),{predictions:t.autocomplete_terms,cacheInfo:(0,v.getCacheInformation)(n),requestId:null===(s=t.metadata)||void 0===s?void 0:s.request_id,experimentsToLog:t.experiments_to_log}})})(B,Y).then(({predictions:t,cacheInfo:o,requestId:p,experimentsToLog:y})=>{const T={cacheInfo:o,latencyMS:Math.round((0,c.default)().now()-J),requestId:p,apiVersion:F,experimentsToLog:y};let h=(function({predictions:t,currentVertical:o,responseMetadata:c}){return t&&t.length?t.map(t=>{const{suggestionType:p}=t;if('SITE_NAV'===p){const{id:o,display_name:u,sub_title:f,metadata:y,site_nav_details:T}=t;return{key:o||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:u,subtitle:f,siteNavDetails:T,suggestionType:p,responseMetadata:c,prefix:(0,l.default)(y,'airmoji'),createPrefix:()=>(0,n.createElement)(b.default,{metadata:y})}}if('SUGGESTED_POIS'===p){const{display_name:o,id:u,metadata:f,poi_list:y,refinements:T,sub_title:h}=t;return{key:u||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:o,subtitle:h,poiList:y,refinements:T,suggestionType:p,responseMetadata:c,prefix:(0,l.default)(f,'airmoji'),createPrefix:()=>(0,n.createElement)(b.default,{metadata:f})}}if('SCENARIOS'===p){const{display_name:o,id:u,metadata:f,scenarios:y,refinements:T,sub_title:h}=t;return{key:u||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:o,subtitle:h,scenarios:y,refinements:T,suggestionType:p,responseMetadata:c,prefix:(0,l.default)(f,'airmoji'),createPrefix:()=>(0,n.createElement)(b.default,{metadata:f})}}if('PDP_NAV'===p){const{id:l,display_name:u,sub_title:p,pdp_details:f,metadata:y,verticalType:T}=t;return{key:l||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:u,currentVertical:o,suggestionType:'PDP_NAV',verticalType:T,responseMetadata:c,subtitle:p,pdpDetails:f,createPrefix:()=>(0,n.createElement)(b.default,{metadata:y})}}if('NON_INTERACTIVE_MESSAGE'===p){const{id:n,display_name:o,metadata:l}=t;return{key:null!=n?n:(0,s().v4)(),source:"satori",name:o,suggestionType:'NON_INTERACTIVE_MESSAGE',prefix:(null==l?void 0:l.airmoji)||'',searchType:p}}if('HIGHLIGHT_MESSAGE'===p){const{id:n,display_name:o,metadata:l}=t;return{key:null!=n?n:(0,s().v4)(),source:"satori",name:o,suggestionType:'HIGHLIGHT_MESSAGE',prefix:(null==l?void 0:l.airmoji)||'',searchType:p}}if('SUGGESTED_ITEMS'===p){const{display_name:n,id:o,metadata:u,suggested_items:f}=t;return{key:o||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:n,items:f,suggestionType:p,responseMetadata:c,prefix:(0,l.default)(u,'airmoji')}}const{explore_search_params:f,display_name:y,id:T,location:h,metadata:E,refinements:S,sub_title:v,verticalType:P}=t;f.refinement_paths&&!f.refinement_paths.length&&(f.refinement_paths=[u.VERTICAL_REFINEMENT_PATHS.FOR_YOU]);const A={...f,location:(0,l.default)(h,'location_name')};return{key:T||(0,s().v4)(),searchType:_.SearchType.AUTOCOMPLETE,source:"satori",name:y,searchParams:A,currentVertical:o,locationId:(0,l.default)(h,'google_place_id'),locationTerms:(0,l.default)(h,'terms'),locationTypes:(0,l.default)(h,'types'),countryCode:null==h?void 0:h.countryCode,refinements:S,suggestionType:p,verticalType:P,prefix:(0,l.default)(E,'airmoji'),description:v,locationDisplayType:(0,l.default)(h,'display_type')||'',chinaSearchBarDisplayParams:t.china_search_bar_display_params,responseMetadata:c,createPrefix:()=>(0,n.createElement)(b.default,{metadata:E})}}).filter(Boolean):[]})({predictions:t||[],currentVertical:K,responseMetadata:T});return M&&(h=h.slice(0,M)),(0,f.isInChinaFlow)()&&h.sort((t,n)=>('PDP_NAV'===t.suggestionType?1:0)-('PDP_NAV'===n.suggestionType?1:0)),{results:h,metadata:T}}).catch(t=>((0,p.warn)(t),Promise.reject(t)))}}),"0cf25f",["862e50","a27fc3","305dd5","fc0842","004dce","87916a","5d602b","f2f40f","6660fd","b7eb08","e2869c","69a7c4","6ac101","6c04f3","15c3a3","47c791","9ecdb8"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l,n,o){const p=(0,u.default)(o),f=(0,s.default)(l||'',n);if(!l)return null==p?null:{isAutocomplete:!1,userInput:'',sections:p,logMetadata:{input:'',results:p.flatMap(t=>t.results),sectionTypesList:p.map(t=>t.type).filter(t.default),sectionTitlesList:p.map(t=>t.title).filter(t.default),maxNumRowsList:p.map(t=>t.maxNumRows).filter(t.default)}};return{isAutocomplete:!0,userInput:f.userInput,sections:f.sections,logMetadata:{input:f.userInput,results:f.sections[0].results,responseMetadata:f.metadata}}};var t=babelHelpers.interopRequireDefault(r(d[0])),s=babelHelpers.interopRequireDefault(r(d[1])),u=babelHelpers.interopRequireDefault(r(d[2]))}),"0f4782",["f30bc0","3a7de0","0b11b5"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t={}){if(t.autocomplete_endpoint)return t.autocomplete_endpoint;return"/api/v2/autocompletes"}}),"15c3a3",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,babelHelpers.interopRequireDefault(r(d[0])).default)({svgContents:"<path d=\"M16 0a12 12 0 0 1 12 12c0 6.34-3.81 12.75-11.35 19.26l-.65.56-1.08-.93C7.67 24.5 4 18.22 4 12 4 5.42 9.4 0 16 0zm0 2C10.5 2 6 6.53 6 12c0 5.44 3.25 11.12 9.83 17.02l.17.15.58-.52C22.75 23 25.87 17.55 26 12.33V12A10 10 0 0 0 16 2zm0 5a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z\" />",svgProps:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},'IcSystemLocation32',{defaultSize:32});e.default=t}),"2455f5",["c65865"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{key:'query',value:t,valueType:'string',selected:!0,resetKeys:['place_id']}}}),"2b1423",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),s=babelHelpers.interopRequireDefault(r(d[1])),n=r(d[2]),o=r(d[3]),u=r(d[4]),l=babelHelpers.interopRequireDefault(r(d[5])),_=babelHelpers.interopRequireDefault(r(d[6])),E=babelHelpers.interopRequireDefault(r(d[7]));function N(){const t=babelHelpers.interopRequireDefault(r(d[8]));return N=function(){return t},t}var T=r(d[9]);function O(t){switch(t){case'LOCATIONS_NEARBY':return T.VALID_AUTOCOMPLETE_SECTIONS.LOCATIONS_NEARBY;case'POIS_IN_LOCATION':return T.VALID_AUTOCOMPLETE_SECTIONS.POIS_IN_LOCATION;case'REFINEMENT_PILLS':return T.VALID_AUTOCOMPLETE_SECTIONS.REFINEMENT_SECTIONS;case'RECENT_SEARCHES':return T.VALID_AUTOCOMPLETE_SECTIONS.RECENT_SEARCHES;case'THINGS_TO_DO_NEARBY':return T.VALID_AUTOCOMPLETE_SECTIONS.THINGS_TO_DO_NEARBY;case'THINGS_TO_DO_IN_LOCATION':return T.VALID_AUTOCOMPLETE_SECTIONS.THINGS_TO_DO_IN_LOCATION;case'TRENDING_LOCATIONS_NEARBY':return T.VALID_AUTOCOMPLETE_SECTIONS.TRENDING_LOCATIONS_NEARBY;case'NEAR_ME':return T.VALID_AUTOCOMPLETE_SECTIONS.NEAR_ME;default:return null}}function c(t){const{items:s,max_num_rows:n,type:u,title:_}=t,E=(s||[]).map(({display_name:t,explore_search_params:s,id:E,sub_title:N,suggestion_type:T,image_url:O,video_url:c,metadata:p},h)=>{const I=null!=t?t:null==s?void 0:s.query,{params:A,...S}=s||{},y={...S,...(0,l.default)(A)};return{key:E||'',name:I,description:N||'',itemOffsetWithinSection:h,prefix:(null==p?void 0:p.airmoji)||'description_clock',searchParams:y,sectionTitle:_||'',sectionMaxNumRows:n||Number.MAX_SAFE_INTEGER,source:o.AUTOSUGGEST_TYPE,suggestionType:u||'',searchType:T||u||'',title:I,imageUrl:null!=O?O:void 0,videoUrl:null!=c?c:void 0}});return'RECENT_SEARCHES'===u&&E.length>5?E.slice(0,5):E}e.default=class{constructor(){this.autosuggestions=void 0,this.experimentName=void 0,this.experimentTreatment=void 0,this.showNearby=void 0,this.refinementPaths=void 0,this.autosuggestions=null,this.experimentName=void 0,this.experimentTreatment=void 0,this.showNearby=!1}init({refinementPaths:o,autosuggestOptions:l=[]}={}){this.refinementPaths=o;const _=(0,u.getLatLng)(),T={refinement_paths:o,options:null==l?void 0:l.join('|'),gps_lat:null==_?void 0:_.lat,gps_lng:null==_?void 0:_.lng};return fetch("/api/v2/autosuggestions?"+s.default.stringify({...T,key:N().default.key(),locale:t.default.locale(),currency:E.default.current().curr},{arrayFormat:'brackets'})).then(t=>t.json()).catch(()=>({autosuggestions:[],show_nearby:!1})).then(t=>{if(!t||!Array.isArray(t.autosuggestions))throw new Error('Invalid autosuggestions response');const{autosuggestions:s,show_nearby:n,experiment_data:o}=t;return o&&(this.experimentName=o.name,this.experimentTreatment=o.treatment_name),{autosuggestions:s,showNearby:n}}).catch(t=>((0,n.warn)(t),{autosuggestions:[],showNearby:!1})).then(({autosuggestions:t,showNearby:s})=>{this.autosuggestions=t,this.showNearby=!!s})}setAutosuggestions(){}sections(t){const s=null==(n=this.autosuggestions)?[]:n.map(t=>({id:O(t.type)||t.type||'',title:t.title,results:c(t),type:t.type,maxNumRows:t.max_num_rows||void 0,displayType:t.display_type||void 0}));var n;return s.length?t?t(s):s:[]}nearbySection(){if(_.default.getBootstrap('tp_autosuggest_nearby_testing')||this.showNearby&&navigator.geolocation)return(0,T.nearbySection)()}getExperimentName(){return this.experimentName}getTreatmentName(){return this.experimentTreatment}}}),"30d4b3",["862e50","e950a3","f2f40f","87916a","869ca2","2a0e51","c235f8","06a99e","e2869c","c130c4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSatoriOptions=function(t,s,u){if((0,o.isInChinaFlow)())return{userMarket:t,maxResults:6,currentTab:(0,n.getTabFromRefinementPath)(u),shouldFilterByVerticalRefinement:!0,hideNavResults:!0,isSimpleSearch:!0,autocompleteVertical:s,excludeListingNames:!1,chinaSearchTab:'OUTBOUND',isCityLevelSearch:!0,customAutocompleteOptions:['china_uniqueness_search']};return{userMarket:t,maxResults:6,currentTab:(0,n.getTabFromRefinementPath)(u),shouldFilterByVerticalRefinement:!0,hideNavResults:!0,isSimpleSearch:!0,autocompleteVertical:s,excludeListingNames:!1,flexDestTreatmentFlag:(0,c.getFlexDestTreatmentFlagForAutosuggest)()}},e.default=function(n,c){const[o,h]=(0,t.useState)(p),b=(0,u.default)(),R=(0,l.default)(c);const{enqueue:F,clearQueue:S}=(0,f.default)(200,(function(t){null!=t&&b.current&&h(t)}));return(0,t.useEffect)(()=>{if(!n)return h(p),void S();F(()=>(0,s.satoriQuery)(n,R.current).then(({results:t,metadata:s})=>({sections:[{id:'predictions',type:'predictions',results:t}],metadata:s,userInput:n})))},[n,R,F,S]),o};var t=r(d[0]),s=r(d[1]),u=babelHelpers.interopRequireDefault(r(d[2])),n=r(d[3]),l=babelHelpers.interopRequireDefault(r(d[4])),c=r(d[5]),o=r(d[6]),f=babelHelpers.interopRequireDefault(r(d[7]));const p=Object.freeze({sections:[{id:'predictions',type:'predictions',results:[]}],userInput:''})}),"3a7de0",["a27fc3","0cf25f","be7481","1b01f9","d18042","bcc3e3","b7eb08","fdce60"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({clearInputOnSubmit:D,autocompleteVertical:_,onBlur:C,onInputClear:R,onUpdateSearchType:x,onSelect:A,onSubmit:y,onFocus:H,refinementPath:q,responseFilters:L,searchContext:M,shouldLog:B=!0,announceA11y:F=!1}){var O,P;const U=(0,t.useRef)(new S.SatoriLogger),[T,V]=(0,t.useState)(null),w=(0,t.useCallback)(()=>V(null),[]),[,K]=(0,t.useState)(),[Y,j]=(0,t.useState)(null),k=(0,I.createSatoriOptions)(c.default.getData(),_,q),z=(0,E.default)(T,k,q),[Q,G]=(0,t.useState)(null!==(O=null==z?void 0:z.userInput)&&void 0!==O?O:null),J=(null==z?void 0:z.sections)||[],N=(0,t.useMemo)(()=>J.flatMap(t=>t.results),[J]),W=null==z?void 0:z.logMetadata,X=null==z?void 0:z.isAutocomplete;(0,t.useEffect)(()=>{let t=!0;return c.default.sync().then(({versionChanged:l})=>{l&&t&&K({})}),()=>{t=!1}},[]);const Z=(0,u.useEvent)((t,l)=>{const u=N[t];w(),null!=W&&null!=u&&(U.current.logAutocompleteSelected({isKeyboardSubmission:l,results:J.flatMap(t=>t.results),selectedItem:u,activeIndex:t,input:T||'',exploreSearchContext:M,...c.default.getLoggingData()}),null==A||A(u))}),$=(0,u.useEvent)(t=>{j(null),null==x||x(h.SearchType.SEARCH_QUERY),V(t)}),ee=(0,u.useEvent)(()=>{T&&(U.current.logAutocompleteSelected({isKeyboardSubmission:!0,results:[],activeIndex:-1,input:T||'',exploreSearchContext:M,...c.default.getLoggingData()}),(0,v.default)(),null==y||y(T),D&&w())}),te=(0,u.useEvent)(t=>{T||U.current.startSession(),null==H||H(t),M&&((0,p.logSearchBarPressed)(M),(0,f.logSearchBarFocus)({searchContext:M,stagedFilters:L}))}),le=(0,u.useEvent)(()=>{V(''),j(null),null==R||R(),(0,p.logSearchBarReset)({searchContext:M,searchFilters:L})}),ue=(0,u.useEvent)(()=>{U.current.endSession(),null==C||C(),j(null),M&&(0,p.logSearchBarDismissed)(M)}),ne=(0,u.useEvent)(t=>{const l=-1===t?null:N[t];j(l?(0,b.default)(l):null)});(0,t.useEffect)(()=>{T||U.current.initialize()},[T]);const re=(0,u.useEvent)(()=>{null!=W&&B&&null!=M&&U.current.logAutocompleteImpression({...W,exploreSearchContext:M,...c.default.getLoggingData()})});(0,t.useEffect)(()=>{re()},[null==z?void 0:z.userInput]);const se=null!=Y?Y:null!=T?T:null,oe=N.length,ae=(0,n.default)(()=>{if(null==(null==z?void 0:z.userInput))return;const t=z.userInput?l.default.t('shared.search.suggestion_count_with_user_input',{user_input:z.userInput,smart_count:oe}):l.default.t('shared.search.suggestion_count',{smart_count:oe});(0,s.default)({text:t,priority:o.AriaLivePriority.MEDIUM,duration:o.AriaLiveDuration.VERY_SHORT})},1e3);if((null!==(P=null==z?void 0:z.userInput)&&void 0!==P?P:null)!==Q){var ie;G(null!==(ie=null==z?void 0:z.userInput)&&void 0!==ie?ie:null),F&&null!=Q&&ae()}return{allSuggestions:N,inputValue:se,isAutocomplete:X,clearUserInput:w,onActiveOption:ne,onClear:le,onBlur:ue,onFocus:te,onInputChange:$,onSelect:Z,onSubmit:ee,sections:J,suggestionCount:oe,userInput:T}};var t=r(d[0]),l=babelHelpers.interopRequireDefault(r(d[1])),u=r(d[2]),n=babelHelpers.interopRequireDefault(r(d[3])),s=babelHelpers.interopRequireDefault(r(d[4])),o=r(d[5]),c=babelHelpers.interopRequireDefault(r(d[6])),p=r(d[7]),f=r(d[8]),v=babelHelpers.interopRequireDefault(r(d[9])),S=r(d[10]),h=r(d[11]),b=babelHelpers.interopRequireDefault(r(d[12])),I=r(d[13]),E=babelHelpers.interopRequireDefault(r(d[14]))}),"3c39a0",["a27fc3","a9f4b1","f4e9c4","5a0957","8a93fb","568055","089e7c","e2b8de","a05159","0c93d9","643181","6660fd","5c08ef","3a7de0","0f4782"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return t[t.length-1];return}}),"453d4c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({metadata:n}){if(!n||!n.airmoji)return null;return(0,u.jsx)(l.default,{children:(0,u.jsx)(t.default,{name:n.airmoji})})};babelHelpers.interopRequireDefault(r(d[0]));var t=babelHelpers.interopRequireDefault(r(d[1])),l=babelHelpers.interopRequireDefault(r(d[2])),u=r(d[3])}),"47c791",["a27fc3","f2c95b","f96f2b","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_SATORI_V2_API_VERSION=void 0;e.DEFAULT_SATORI_V2_API_VERSION='1.1.0'}),"47dc4c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,o){const c=(0,t.useRef)(null),s=(0,n.default)(o);return(0,t.useEffect)(()=>{if(!u)return;const t=t=>{var n;!(null===(n=c.current)||void 0===n||!n.contains(t.target))||s()};return document.addEventListener('focus',t,!0),()=>{document.removeEventListener('focus',t,!0)}},[u]),[c]};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1]))}),"53fb99",["a27fc3","d39953"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var n,l,o;if('NON_INTERACTIVE_MESSAGE'===u.suggestionType)return'';return null!==(n=null!==(l=null==u?void 0:u.name)&&void 0!==l?l:null==u||null===(o=u.searchParams)||void 0===o?void 0:o.query)&&void 0!==n?n:''}}),"5c08ef",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SatoriLogger=void 0;var t=babelHelpers.interopRequireDefault(r(d[0]));function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}function s(){const t=r(d[3]);return s=function(){return t},t}var l=babelHelpers.interopRequireDefault(r(d[4])),u=babelHelpers.interopRequireDefault(r(d[5])),c=babelHelpers.interopRequireDefault(r(d[6])),_=babelHelpers.interopRequireDefault(r(d[7])),p=r(d[8]),f=r(d[9]),v=babelHelpers.interopRequireDefault(r(d[10])),h=r(d[11]);function k({filters:t,id:n,path:o,vertical:s}){return{filters:t,id:n,path:o,vertical:s}}function y(t){return Array.isArray(t)?t.map(({offset:t,value:n})=>({location_offset:t,location_term:n})):t}function S(t){return'number'==typeof t?t:-1}function x(t,n){var o,s,l,u,_;const f=t,v=t,x=null==f||null===(o=f.refinements)||void 0===o?void 0:o[0],T=null==t?void 0:t.source;return{location_name:null!==(s=null==t||null===(l=t.searchParams)||void 0===l?void 0:l.query)&&void 0!==s?s:'',display_name:t.name,source:null==t?void 0:t.source,position:S(n),api_place_id:null==t||null===(u=t.searchParams)||void 0===u?void 0:u.place_id,refinements:null==t||null===(_=t.searchParams)||void 0===_?void 0:_.refinement_paths,current_refinement_vertical:null==f?void 0:f.currentVertical,listing_id:(0,h.isPDPResult)(t)?t.pdpDetails.listing_id:void 0,location_terms:y(null==f?void 0:f.locationTerms),location_types:null==f?void 0:f.locationTypes,full_refinement:x?k(x):void 0,saved_search_id:T===p.SAVED_SEARCH_TYPE?t.key:void 0,id:null==t?void 0:t.key,item_offset_within_section:(0,c.default)(t,'itemOffsetWithinSection'),type:null==t?void 0:t.searchType,title:(0,c.default)(t,'sectionTitle'),max_num_rows:String((0,c.default)(t,'sectionMaxNumRows')),sub_title:(null==v?void 0:v.subtitle)||(null==f?void 0:f.description)}}function T(t){return null==t?'':String(t)}function b(t,n){return T((0,c.default)(t,"refinements[0]."+n))}function P(t,n){return(t||[]).map(t=>b(t,n))}function I(t,n){var o,s,l,u,_;const f=t,v=t,x=null==f||null===(o=f.refinements)||void 0===o?void 0:o[0],T=null==t?void 0:t.source;return{location_name:null!==(s=null==t||null===(l=t.searchParams)||void 0===l?void 0:l.query)&&void 0!==s?s:'',display_name:t.name,source:null==t?void 0:t.source,position:S(n),api_place_id:null==t||null===(u=t.searchParams)||void 0===u?void 0:u.place_id,refinements:null==t||null===(_=t.searchParams)||void 0===_?void 0:_.refinement_paths,current_refinement_vertical:null==f?void 0:f.currentVertical,location_types:null==f?void 0:f.locationTypes,location_terms:y(null==f?void 0:f.locationTerms),full_refinement:x?k(x):void 0,saved_search_id:T===p.SAVED_SEARCH_TYPE?t.key:void 0,suggestion_type:t.suggestionType,listing_id:(0,h.isPDPResult)(t)?t.pdpDetails.listing_id:void 0,id:null==t?void 0:t.key,type:null==t?void 0:t.searchType,title:(0,c.default)(t,'sectionTitle'),max_num_rows:String((0,c.default)(t,'sectionMaxNumRows')),item_offset_within_section:(0,c.default)(t,'itemOffsetWithinSection'),sub_title:(null==v?void 0:v.subtitle)||(null==f?void 0:f.description)}}function C(t){return{autocomplete_client_delivered_experiment_name:t.name,autocomplete_client_delivered_experiment_group:t.group}}function R({isClick:n=!1,isKeyboardSubmission:s=!1,input:u,clickedDisplayString:p,clickedRefinementFilter:f,clickedRefinementId:h,clickedRefinementPath:k,clickedSuggestionType:y,clickedVertical:x,responseMetadata:b,results:R=[],suggestionClicked:A,market:q,region:L,countryCode:w,configToken:D,locale:E=t.default.locale(),language:H=t.default.language(),exploreSearchContext:M,sessionId:B,sectionTypesList:V,sectionTitlesList:K,maxNumRowsList:N,mapBounds:O,isPoiAutocomplete:F}){const J=b||(0,c.default)((0,_.default)(R),'responseMetadata'),Q=(0,c.default)(J,'cacheInfo')||{},W=(0,c.default)(J,'requestId'),Y=(0,c.default)(J,'latencyMS'),j=(0,c.default)(J,'apiVersion'),z=(0,c.default)(J,'experimentsToLog')||[],{maxAge:G,cacheProvider:U,cacheServedBy:X,cdnCacheHits:Z,cdnCacheInfo:$}=Q,ee=R.map(I),te=R.map(t=>t.name),ie=R.map(t=>t.suggestionType).filter(v.default),ne=R.map(t=>t.verticalType).filter(v.default),oe=S((0,c.default)(A,'position')),se=R.map(t=>{var n,o;return T(null===(n=t.searchParams)||void 0===n||null===(o=n.refinement_paths)||void 0===o?void 0:o[0])}),le=z.map(C),ae={operation:n?2:1,is_clicked_event_on_enter_operation:s,user_input:u,index_of_suggestion_item_clicked:oe,autocomplete_refinement_filters:P(R,'filters'),autocomplete_refinement_ids:P(R,'id'),autocomplete_refinement_paths:se,autocomplete_suggestion_display_strings:te,autocomplete_suggestion_types:ie,autocomplete_vertical_refinement_types:ne,autocomplete_suggestions:ee,autocomplete_suggestion_clicked:A,autocomplete_suggestion_clicked_display_string:p,autocomplete_suggestion_clicked_refinement_filter:f,autocomplete_suggestion_clicked_refinement_id:T(h),autocomplete_suggestion_clicked_refinement_path:k,autocomplete_suggestion_clicked_type:y,autocomplete_suggestion_clicked_vertical:x,user_market:q,latency_ms:Y,cdn_cache_max_age:G,cdn_cache_provider:U,cdn_cache_served_by:X,cdn_cache_hits:Z,satori_region_id:L,user_country_code:w,autocomplete_request_id:W,satori_api_version:j,user_locale:E,user_language:H,search_context:M,satori_session_id:B,section_types_list:V,section_titles_list:K,max_num_rows_list:N,ne_lat:null==O?void 0:O.ne.lat,ne_lng:null==O?void 0:O.ne.lng,sw_lat:null==O?void 0:O.sw.lat,sw_lng:null==O?void 0:O.sw.lng,is_poi_autocomplete:F,satori_config_token:D,client_delivered_experiments:le,autocomplete_cache_info_logging:$};l.default.queueJitneyEvent({schema:o().SearchLocationAutocompleteImpressionEvent,event_data:ae}),n&&l.default.getLogger().flushEventQueue()}function A(t){return'/for_you'!==((0,c.default)(t,'searchParams.refinement_paths')||[])[0]?t:{...t,searchParams:{...t.searchParams,refinement_paths:[]}}}e.SatoriLogger=class{constructor(){this.keystrokes=void 0,this.requestId=void 0,this.sessionId=void 0,this.keystrokes=[],this.sessionId=null}initialize(){this.keystrokes=[]}startSession(){this.sessionId=(0,n().v4)()}endSession(){this.sessionId=null,l.default.getLogger().flushEventQueue()}hasKeystrokes(){return this.keystrokes.length>0}logAutocompleteImpression({input:t,responseMetadata:n,results:o,market:s,region:l,countryCode:u,configToken:c,exploreSearchContext:_,sectionTypesList:p,sectionTitlesList:f,maxNumRowsList:v,mapBounds:h,isPoiAutocomplete:k}){const y=(o||[]).map(A),S=(function({results:t=[],input:n="",position:o=-1,latency:s=-1}){return{location_input:n,autocomplete_suggestions:t.map(x),position_of_eventually_clicked_suggestion:o,latency_ms:s}})({results:y,input:t});this.keystrokes=[...this.keystrokes,S],this.requestId=null==n?void 0:n.requestId,R({market:s,region:l,responseMetadata:n,countryCode:u,configToken:c,exploreSearchContext:_,results:y,input:t,sectionTypesList:p,sectionTitlesList:f,maxNumRowsList:v,mapBounds:h,isPoiAutocomplete:k,...this.sessionId?{sessionId:this.sessionId}:{}})}logAutocompleteSelected({isKeyboardSubmission:t=!1,results:n,selectedItem:o,activeIndex:p,input:v,market:h,region:k,countryCode:y,configToken:x,exploreSearchContext:T,mapBounds:P,isPoiAutocomplete:C}){var q,L;const w=(n||[]).map(A),D=(E=o)?A(E):void 0;var E;let H;if(D){const t=null!=p?p:w.findIndex(t=>(0,u.default)(t.searchParams,D.searchParams));H=I(D,t)}const M=(0,_.default)(this.keystrokes),B=S((0,c.default)(H,'position'));M&&(M.position_of_eventually_clicked_suggestion=B,(function({isClick:t=!1,keystrokes:n=[],market:o}){const u={schema:s().SearchLocationAutocompleteAllKeystrokesEvent,event_data:{operation:t?2:1,user_market:o,autocomplete_keystrokes:n}};l.default.logJitneyEvent(u)})({market:h,isClick:!0,keystrokes:this.keystrokes})),t&&(0,f.logSearchBarKeyboardSubmission)({positionClicked:B,requestId:this.requestId,searchContext:T}),R({isClick:!0,isKeyboardSubmission:t,clickedDisplayString:(0,c.default)(D,'name'),clickedRefinementFilter:b(D,'filters'),clickedRefinementId:null==D||null===(q=D.refinements)||void 0===q||null===(L=q[0])||void 0===L?void 0:L.id,clickedRefinementPath:b(D,'path'),clickedSuggestionType:(0,c.default)(D,'suggestionType'),clickedVertical:b(D,'vertical'),suggestionClicked:H,market:h,region:k,countryCode:y,configToken:x,exploreSearchContext:T,results:w,input:v,mapBounds:P,isPoiAutocomplete:C,...this.sessionId?{sessionId:this.sessionId}:{}})}}}),"643181",["862e50","305dd5","68d93f","95fb42","c8b97a","3dcd9d","004dce","453d4c","87916a","e2b8de","f30bc0","7491ac"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchLocationAutocompleteImpressionEvent=void 0;var o={defaultProps:{schema:'com.airbnb.jitney.event.logging.Search:SearchLocationAutocompleteImpressionEvent:8.0.0',event_name:'search_location_autocomplete_impression'},propTypes:{}};e.SearchLocationAutocompleteImpressionEvent=o,o.fullyQualifiedName='Search.v8.SearchLocationAutocompleteImpressionEvent'}),"68d93f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o={}){const u=(0,t.default)().satori_version;if(u)return u;if(o.satori_version)return o.satori_version;return n.DEFAULT_SATORI_V2_API_VERSION};var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1])}),"6ac101",["a7c4ef","47dc4c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(T,p,f=u,y,E,C,F="default"){const{searchParams:O,searchType:w}=T;(0,o.isNonSearchResult)(T)&&(0,o.default)(T);if(w===t.SearchType.RECENT_SEARCH)return(0,n.logSearchBarRecentSearch)({searchContext:C,searchFilters:E,nextSearchFilters:(0,S.constructNextSearchFiltersFromSearchParams)(O,E)}),void(0,c.pushToSearchHistory)({stagedFilters:(0,S.constructNextSearchFiltersFromSearchParams)(O,E),responseFilters:E,searchType:t.SearchType.AUTOSUGGEST,shouldReloadInSameWindow:'reload-in-same-window'===F,openInNewWindow:'open-in-new-window'===F});if(w===t.SearchType.GEOLOCATION||w===t.SearchType.NEAR_ME)return(0,l.getSearchParamsWithUserMarket)().then(c=>{const o=(0,s.default)({...O,...c});f(t.SearchType.AUTOSUGGEST),p(o,t=>{y(t),(0,h.logSelectLocation)({searchContext:C,newStagedFilters:t}),(0,n.logSearchBarNearbyClick)({searchContext:C,searchFilters:E,nextSearchFilters:t})})}).then(()=>(0,l.default)()).then(t=>{const c=(0,s.default)({...O,...t});p(c)});if(w===t.SearchType.AUTOSUGGEST){const c=(0,s.default)(O);f(t.SearchType.AUTOSUGGEST),p(c,t=>{y(t),(0,h.logSelectLocation)({searchContext:C,newStagedFilters:t})})}if(w===t.SearchType.AUTOCOMPLETE){const c=(0,s.default)(O),o=c.find(t=>'query'===t.key);o&&(o.value=T.name),f(t.SearchType.AUTOCOMPLETE_CLICK),p(c,t=>{var c;(y(t),(0,h.logSelectLocation)({searchContext:C,newStagedFilters:t}),C)&&(0,n.logAutocompletePressed)(C,E,t,null===(c=T.responseMetadata)||void 0===c?void 0:c.requestId)})}};var t=r(d[0]),c=r(d[1]),s=babelHelpers.interopRequireDefault(r(d[2])),o=babelHelpers.interopRequireWildcard(r(d[3])),n=r(d[4]),l=babelHelpers.interopRequireWildcard(r(d[5])),h=r(d[6]),S=r(d[7]);const u=t=>{}}),"6bc17e",["6660fd","1b01f9","6bcba5","7491ac","e2b8de","7defb2","a05159","b48dff"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u={}){return[...new Set([...n,...l.DORA_FILTER_KEYS.filter(l=>{var n;return null!==(null!==(n=u[l])&&void 0!==n?n:null)})])].map(l=>({key:l,selected:!!u[l],value:u[l]||null,valueType:t.includes(l)?'number':'string'}))};var l=r(d[0]);const n=['lat','lng','location','location_search','place_id','query',...r(d[1]).MAP_FILTER_KEYS],t=['lat','lng']}),"6bcba5",["7619b3","b48dff"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n={}){return(0,t.default)().satori_config_token||n.config_token};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"6c04f3",["a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){return'SITE_NAV'===n.suggestionType}function t(n){return'PDP_NAV'===n.suggestionType}function o(n,t){const o=`//${document.location.hostname}/${n}`;t?window.location.assign(o):window.open(o,'_blank')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,u=!1){if(t(s)){const{pdpDetails:{deeplink:n}}=s;o(n,u)}else if(n(s)){const{siteNavDetails:{deeplink:n}}=s;o(n,u)}},e.isNonSearchResult=function(o){return n(o)||t(o)||(function(n){return'SUGGESTED_POIS'===n.suggestionType})(o)},e.isPDPResult=t}),"7491ac",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(navigator.geolocation)return new Promise(n=>{navigator.geolocation.getCurrentPosition(({coords:{latitude:o,longitude:u,accuracy:c}})=>{(0,t.setLatLng)({lat:o,lng:u,accuracy:c}),n({lat:o,lng:u})},()=>n(o()),{timeout:5e3})});return o()},e.getSearchParamsWithUserMarket=o;var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1]));function o(){return n.default.sync().then(()=>({location:n.default.getMarket()}))}}),"7defb2",["869ca2","089e7c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchLocationAutocompleteAllKeystrokesEvent=void 0;e.SearchLocationAutocompleteAllKeystrokesEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Search:SearchLocationAutocompleteAllKeystrokesEvent:2.0.0',event_name:'search_location_autocomplete_all_keystrokes'},propTypes:{}}}),"95fb42",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){var t,l;const u=null==n||null===(t=n.headers)||void 0===t?void 0:t.get('X-Cdn-Forward');if(u&&'Aliyun'===u)return'Aliyun';const o=null==n||null===(l=n.headers)||void 0===l?void 0:l.get('Via');return o&&o.match(/1\.1 varnish/)?'Fastly':'Akamai'}Object.defineProperty(e,"__esModule",{value:!0}),e.getCacheInformation=function(t){const l=n(t),u=(function(n,t){var l;const u=null==n||null===(l=n.headers)||void 0===l?void 0:l.get('Cache-Control');if(!u)return;const o=u.match(/max-age=(\d+)/);if(!o)return;const s=parseInt(o[1],10);if('Fastly'===t||'Aliyun'===t){var c;const t=null==n||null===(c=n.headers)||void 0===c?void 0:c.get('Age');if(null!=t){const n=parseInt(t,10);if(!Number.isNaN(n))return s-n}}return s})(t,l),o=(function(t){var l;if('Aliyun'===n(t)){var u;const n=null==t||null===(u=t.headers)||void 0===u?void 0:u.get('Via');if(n)return n.split(', ').map(n=>n.trim())}const o=null==t||null===(l=t.headers)||void 0===l?void 0:l.get('X-Served-By');if(o)return o.split(',').map(n=>n.trim());return})(t),s=(function(n){var t;const l=null==n||null===(t=n.headers)||void 0===t?void 0:t.get('X-Cache-Hits');if(l)return l.split(',').map(n=>n.trim());return})(t),c=(function(n){var t;const l=null==n||null===(t=n.headers)||void 0===t?void 0:t.get('server-timing');if(null==l)return;let u={};return l.split(',').map(n=>{const[t,l]=n.split(';'),o=t.trim(),s=null==l?void 0:l.split('=')[1],c='cdn-cache'===o,v={[c?'status':o]:c?s:parseInt(s,10)};return u={...u,...v},u}),{...u,raw_serving_time:l}})(t);return{maxAge:u,cacheProvider:l,cacheServedBy:o,cdnCacheHits:s,cdnCacheInfo:c}}}),"9ecdb8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.logSearchBarFocus=function({stagedFilters:n,currentTab:u=c.EXPLORE_TABS.HOMES,searchContext:s}){const v=null==n?void 0:n.location,f=null==n?void 0:n.checkin,h=null==n?void 0:n.checkout,E=null==n?void 0:n.guests;return o.default.logJitneyEvent({schema:t().ExploreClickSearchLocationEvent,event_data:{location:v||'',dates:[f||'',h||''],guests:null!=E?E:-1,subtab:(0,l.default)(u),search_context:s}})},e.logSelectLocation=function({stagedFilters:t,currentTab:u=c.EXPLORE_TABS.HOMES,searchContext:s}){const v=null==t?void 0:t.location,f=null==t?void 0:t.checkin,h=null==t?void 0:t.checkout,E=null==t?void 0:t.guests;return o.default.logJitneyEvent({schema:n().ExploreSelectSearchLocationEvent,event_data:{location:v||'',dates:[f||'',h||''],guests:null!=E?E:-1,subtab:(0,l.default)(u),search_context:s}})};var o=babelHelpers.interopRequireDefault(r(d[2])),l=babelHelpers.interopRequireDefault(r(d[3])),c=r(d[4])}),"a05159",["ef7508","058079","c8b97a","0c66be","87916a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2])),u=babelHelpers.interopRequireDefault(r(d[3])),s=r(d[4]),c=r(d[5]),l=babelHelpers.interopRequireDefault(r(d[6]));function p({id:p,onClear:f,onBlur:b,onFocus:x,onSelect:I,onSubmit:E,onActiveOption:D,suggestionCount:k,isAutocomplete:O,forceOpen:C=!1}){const[_,h]=(0,t.useReducer)(y,C,v),{activeIndex:R,isOpen:w,isFocused:A}=_,F=(0,t.useRef)(null),P=(0,t.useRef)(null),N=(0,o.default)(R),q=(0,u.default)(C),{scheduler:L}=(0,c.usePostTaskScheduler)({priority:'user-visible'});(0,t.useEffect)(()=>{'keyboard'===P.current&&N!==R&&(null==D||D(R))},[R,N,D]);const T=p+"-listbox";function U(t,n){null==I||I(t,n),P.current=n?'keyboard':'mouse',h({type:'leave',payload:C})}function H(t){t.preventDefault(),P.current='keyboard',-1===R||0===k?null==E||E():U(R,!0)}const S=(0,s.useEvent)(t=>{switch(t.key){case'ArrowDown':return t.preventDefault(),P.current='keyboard',void h({type:'moveDown',payload:{suggestionCount:k}});case'ArrowUp':return t.preventDefault(),P.current='keyboard',void h({type:'moveUp',payload:{suggestionCount:k}});case'Enter':return H(t);case'Escape':return t.preventDefault(),P.current='keyboard',null==f||f(),void h({type:'close',payload:C});default:/[\x20-\x7E]/.test(t.key)&&h({type:'open'})}}),K=(0,s.useEvent)(()=>{P.current='mouse',h({type:'leaveListbox'})});const M=t=>`${p}-suggestion-${t}`;function B(t){P.current='mouse',h({type:'activeIndex',payload:t})}const $=(0,s.useEvent)(t=>{'Enter'===t.key&&H(t)}),j=(0,s.useEvent)(t=>{t.preventDefault(),U(Number(t.currentTarget.getAttribute('data-index')),!1)}),V=(0,s.useEvent)(t=>{B(Number(t.currentTarget.getAttribute('data-index')))}),z=(0,s.useEvent)(t=>{const n=Number(null==t?void 0:t.currentTarget.getAttribute('data-index'));Number.isNaN(n)||B(n)});function G(t){h({type:'open'}),null==x||x(t)}function J(){null==b||b(),h({type:'leave',payload:C})}(0,t.useEffect)(()=>{null!=F&&F.current&&document.activeElement===F.current&&G()},[]),(0,t.useEffect)(()=>{!C&&q&&h({type:'leave',payload:!1}),C&&!q&&h({type:'open'})},[C,q]);const[Q]=(0,l.default)(!C&&w,J);return{activeOptionIndex:R,closeListbox:function(){h({type:'leave',payload:!1})},getSuggestionProps:function(t){return{role:O?'option':'link',isActive:R===t,onClick:j,onFocus:V,onKeyUp:$,onMouseEnter:z,tabIndex:O?-1:0,id:M(t),'data-index':t,'data-testid':"option-"+t}},isListboxOpen:w,isInputFocused:A,inputRef:F,onClearPress:t=>{t.preventDefault(),P.current='mouse',h({type:'clear'}),null==f||f(),L.setTimeout(()=>{var t;null==F||null===(t=F.current)||void 0===t||t.focus()},0)},outsideRef:Q,onBlur:J,descriptionId:p+"-description",focusInput:()=>{var t;null===(t=F.current)||void 0===t||t.focus()},inputProps:{'aria-activedescendant':R>=0?M(R):void 0,'aria-autocomplete':O?'list':'none','aria-controls':O?T:void 0,'aria-expanded':O?w:void 0,'aria-haspopup':O?'listbox':void 0,role:O?'combobox':void 0,autoComplete:'off',autoCorrect:'off',spellCheck:!1,id:p+"-input",name:'query',onFocus:G,onKeyDown:t=>{'Enter'===t.key&&t.preventDefault()},onKeyUp:S,ref:F},statusProps:{'aria-atomic':!0,'aria-live':'polite',role:'status'},listboxProps:{role:O?'listbox':'dialog','aria-label':n.default.t('search.voiceover.VoiceOver_description_for_list_of_search_suggestions'),id:T,onMouseLeave:K,tabIndex:-1},formProps:{role:'search'}}}function v(t){return{isOpen:t,activeIndex:-1,isFocused:!1}}function f(t,n,o){const u=o-1;let s=n+t;return s<-1&&(s=u),s>u&&(s=-1),s}function y(t,n){const{isOpen:o,activeIndex:u}=t;switch(n.type){case'leave':return v(n.payload);case'moveUp':{const{suggestionCount:s}=n.payload;if(s<=0||!o)return t;const c=f(-1,u,s);return{...t,activeIndex:c}}case'moveDown':{const{suggestionCount:s}=n.payload;if(s<=0)return t;if(!o)return{...t,isOpen:!0,activeIndex:0};const c=f(1,u,s);return{...t,activeIndex:c}}case'clear':return{...t,activeIndex:-1};case'open':return{...t,isFocused:!0,isOpen:!0};case'close':return{...t,isOpen:n.payload,activeIndex:-1};case'activeIndex':return{...t,activeIndex:n.payload};case'leaveListbox':return{...t,isFocused:!1,activeIndex:-1};default:return t}}}),"af121a",["a27fc3","a9f4b1","82dbdd","67c39a","f4e9c4","53bb4a","53fb99"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VALID_DISPLAY_TYPES=e.VALID_AUTOCOMPLETE_SECTIONS=void 0,e.nearbySection=function(){return{id:s.NEARBY,title:'',displayType:'ROWS',results:[{key:'nearby',name:t.default.t('autosuggestions.nearby'),title:t.default.t('autosuggestions.nearby'),imageUrl:'https://a0.muscache.com/im/pictures/fc42dde0-36a7-460e-af89-10b5e44e48d8.jpg?im_w=240&im_q=lowq',searchType:n.GEOLOCATION_TYPE,searchParams:{location_search:'NEARBY'},prefix:'',source:n.AUTOSUGGEST_TYPE,description:'',suggestionType:'NEARBY'}]}},e.predictionsSection=function(t){return{id:s.PREDICTIONS,results:t}};var t=babelHelpers.interopRequireDefault(r(d[0])),n=(babelHelpers.interopRequireDefault(r(d[1])),r(d[2]));const s={NEARBY:'nearby',PREDICTIONS:'predictions',REFINEMENT_SECTIONS:'refinementSuggestions',RECENT_SEARCHES:'savedSearches',LOCATIONS_NEARBY:'locationsNearby',POIS_IN_LOCATION:'poisInLocation',THINGS_TO_DO_NEARBY:'thingsToDoNearby',THINGS_TO_DO_IN_LOCATION:'thingsToDoInLocation',TRENDING_LOCATIONS_NEARBY:'trendingLocationsNearby',NEAR_ME:'nearMe'};e.VALID_AUTOCOMPLETE_SECTIONS=s;e.VALID_DISPLAY_TYPES={PILL:'PILL',ROW:'ROW'}}),"c130c4",["a9f4b1","004dce","87916a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExploreClickSearchLocationEvent=void 0;var o={defaultProps:{schema:'com.airbnb.jitney.event.logging.Explore:ExploreClickSearchLocationEvent:2.0.0',event_name:'explore_click_search_location',page:'explore',target:'search_location',operation:2},propTypes:{}};e.ExploreClickSearchLocationEvent=o,o.fullyQualifiedName='Explore.v2.ExploreClickSearchLocationEvent'}),"ef7508",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExploreSkeletonContext=void 0,e.ShimmerIfSkeleton=function({children:t,isLoading:n=!1,...u}){const c=p();let f=(0,s.jsx)(s.Fragment,{children:t});(c||n)&&(f=(0,s.jsx)(l.default,{width:"auto",height:"auto",cornerRadius:o.theme.cornerRadius.small8px.borderRadius,...u,children:t}));return f},e.default=p,e.getExploreFadeInAnimation=function(t){return(0,o.cssFragment)(u||(u=c`
    animation-name: fade-in;
    animation-duration: 800ms;
    animation-fill-mode: both;
    animation-delay: ${0};

    @keyframes fade-in {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }
  `),x[t])},e.useIsExploreFadeIn=function(){const t=p(),o=(0,n.useInitialRender)();return t&&o};var t=babelHelpers.interopRequireWildcard(r(d[0])),n=r(d[1]),o=r(d[2]),l=babelHelpers.interopRequireDefault(r(d[3])),s=r(d[4]);let u,c=t=>t;const f=(0,t.createContext)(!1);function p(){return(0,t.useContext)(f)}e.ExploreSkeletonContext=f;const x={HEADER:'0ms',CATEGORIES:'100ms',LISTINGS:'200ms'}}),"f8b3fb",["a27fc3","1e052a","4786a8","44e11b","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(d[0]),l=babelHelpers.interopRequireDefault(r(d[1])),n=babelHelpers.interopRequireDefault(r(d[2])),t=babelHelpers.interopRequireDefault(r(d[3]));var c=function(c,o,s){const f=(0,t.default)(o),b=(0,t.default)(s),p=(0,u.useRef)(null),v=(0,u.useRef)(0),R=(0,u.useRef)(null),k=(0,u.useCallback)(()=>{R.current&&R.current(),R.current=null},[]),q=(0,u.useCallback)((function(u,l,n){return p.current=u,new Promise(u=>u(l())).then(l=>{u>v.current?(v.current=u,f.current(l),null==n||n('resolved')):null==n||n('discarded')}).catch(u=>{var l;null==n||n('rejected'),null==b||null===(l=b.current)||void 0===l||l.call(b,u)})}),[b,f]),C=(0,u.useCallback)((function(u,l,n){let t=!1;const o=setTimeout(()=>{t=!0,q(u,l,n)},c);return()=>{t||(null==n||n('cancelled'),clearTimeout(o))}}),[c,q]),_=(0,u.useCallback)((function(u,n){const t=(0,l.default)().now();k(),null!=p.current?t-p.current>c?q(t,u,n):R.current=C(t,u,n):q(t,u,n)}),[k,C,c,q]);return(0,n.default)(()=>{k()}),{enqueue:_,clearQueue:k}};e.default=c}),"fdce60",["a27fc3","5d602b","aca54e","d18042"]);
__r("a9f4b1").extend({"shared.search.suggestion_count_with_user_input":"1 gợi ý cho %{user_input}.||||%{smart_count} gợi ý cho %{user_input}.","shared.search.suggestion_count":"%{smart_count} đề xuất.","search.voiceover.VoiceOver_description_for_list_of_search_suggestions":"Đề xuất tìm kiếm","mt.explore.autocomplete.Results section title for location refinement suggestions":"Khám phá %{location}","mt.explore.autocomplete.Results sections title for refinement suggestions":"Tìm hiểu Airbnb","mt.explore.autocomplete.Results sections title for recent searches":"Tìm kiếm gần đây","autosuggestions.nearby":"Lân cận"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/5872.7f61af4613.js.map