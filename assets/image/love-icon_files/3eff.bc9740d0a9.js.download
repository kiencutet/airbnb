__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClientDisconnectionEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.WebSocketClient:WebSocketClientDisconnectionEvent:1.0.0',event_name:'websocketclient_disconnection'},propTypes:{}};e.WebSocketClientDisconnectionEvent=n,n.fullyQualifiedName='WebSocketClient.v1.WebSocketClientDisconnectionEvent'}),"0728ff",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeLoader=e.getDefaultExport=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),l=babelHelpers.interopRequireDefault(r(d[1]));const o=t.default;e.getDefaultExport=o;const u=l.default;e.normalizeLoader=u}),"09d809",["d17907","b4385c"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}function o(){const n=r(d[2]);return o=function(){return n},n}function c(){const n=r(d[3]);return c=function(){return n},n}function s(){const n=r(d[4]);return s=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.observeConnection=async function(_,l,u){const f=_.now();_.increment('frontend.websocket_client.connecting',1,{}),l({schema:n().WebSocketClientConnectionAttemptEvent,event_data:{connection_id:u.connectionId,retry_attempt_number:0,websocket_url:u.webSocketUrl.toString(),message_offset:void 0}});const b=await u.next,w='disconnected'===b.state?b:await b.next;if('disconnected'===w.state||'reconnecting'===w.state){const{webSocketUrl:n,attemptCount:o,sourceError:{wasClean:c,code:u,reason:b}}=w,S={clean:String(c),code:String(u),reason:b};u===s().CONNECT_TIMEOUT_ERROR_CODE?_.increment('frontend.websocket_client.connect_timeout',1,S):_.increment('frontend.websocket_client.closed',1,S),l({schema:t().WebSocketClientConnectionResultEvent,event_data:{is_successful:!1,will_retry:!1,websocket_url:n.toString(),retry_attempt_number:o,connection_id:w.connectionId,connect_time_ms:String(f-_.now()),error_code:String(u),error_reason:b}})}else if('established'===w.state){_.increment('frontend.websocket_client.connected',1,{});const{attemptCount:n,webSocketUrl:s}=w;return l({schema:t().WebSocketClientConnectionResultEvent,event_data:{is_successful:!0,will_retry:!1,websocket_url:s.toString(),retry_attempt_number:n,connection_id:w.connectionId,connect_time_ms:String(f-_.now())}}),w.next.then((function n(t){const{connectionId:s}=t;if('disconnected'===t.state){const{sourceError:{wasClean:n,code:o,reason:u}}=t;return _.increment('frontend.websocket_client.closed',1,{clean:String(n),code:String(o),reason:u}),void l({schema:c().WebSocketClientDisconnectionEvent,event_data:{connection_id:s,is_normal_close:n,websocket_url:t.webSocketUrl.toString(),will_retry:!1,error_code:String(o),error_reason:u,last_message_offset:t.messageOffset}})}if('reconnecting'===t.state){const{sourceError:{wasClean:o,code:c,reason:s}}=t;return _.increment('frontend.websocket_client.retrying',1,{clean:String(o),code:String(c),reason:s}),t.next.then(t=>{if('established'===t.state)return t.next.then(n)})}if('message'===t.state){const{lastMessage:c,webSocketUrl:u,payloadSize:f}=t;return c&&(_.increment('frontend.websocket_client.message',1,{}),'channelId'in c&&l({schema:o().WebSocketClientMessageEvent,event_data:{channel_id:c.channelId,connection_id:s,message_offset:c.messageOffset,message_size_bytes:f||0,websocket_url:u.toString()}})),t.next.then(n)}if('pending-pong'===t.state||'established'===t.state)return t.next.then(n)}))}}}),"1edb62",["b74c0c","d67ac8","ba6358","0728ff","235c49"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.createPendingOpenWebSocketConnection=function(t){const{generateConnectionId:s,webSocketGatewayURL:u,protocols:p,abortSignal:y,createConnectTimeoutPromise:P,WebSocket:C,defaultCloseConfig:R}=t,b=s(),_=E(u,b),{readNextWebSocketEvent:k,writeWebSocketEvent:h,closeWebSocket:w}=(0,n().createWebSocketEventGetter)(_,p,C,y),I=P();return{state:'pending-open',connectionId:b,webSocketUrl:_,next:Promise.race([k(),I]).then(n=>{switch(n.type){case'open':return(function(t,n,s,u,l,E,p){return{state:'pending-config',connectionId:n,webSocketUrl:s,next:Promise.race([u(),p]).then(p=>{if('close'===p.type)return f(n,s,p);if('message'===p.type){const{data:S}=p;try{return'clientConnectionPolicy'in S?c(t,n,s,u,l,E,S.clientConnectionPolicy):f(n,s,o().WEBSOCKET_FAIL_TO_PARSE_INITIAL_MESSAGE)}catch(t){return f(n,s,o().WEBSOCKET_FAIL_TO_PARSE_INITIAL_MESSAGE)}}return f(n,s,o().UNEXPECTED_ERROR)})}})(t,b,_,k,h,w,I);case'timeout':case'close':return S(R,y)?(w(),l(t,n,t.defaultCloseConfig)):f(b,_,n);default:return f(b,_,o().UNEXPECTED_ERROR)}})}};function c(t,n,c,E,y,P,C,R=1,b="*"){const{abortSignal:_,createPingHealthCheckPromise:k}=t,h=E();return{state:'established',connectionId:n,webSocketUrl:c,next:Promise.race([h,k()]).then((function R(w){switch(w.type){case'close':{const o=p(t,C,w);return S(o,_)?(P(),l(t,w,o,n,b,C)):f(n,c,w,b)}case'message':{const{data:o}=w;if('type'in o&&'MESSAGE'===o.type){var I;const u=null===(I=o.payload)||void 0===I?void 0:I.length;return s(t,n,c,E,y,P,o,u,C)}if('type'in o&&'PONG'===o.type)return Promise.race([E(),k()]).then(R)}case'ping-timeout':return u(t,n,c,h,E,y,P,C,b)}return f(n,c,o().UNEXPECTED_ERROR,b)})),attemptCount:R,serverDrivenConfig:C}}function s(t,n,c,E,y,P,C,R,b){const{abortSignal:_,createPingHealthCheckPromise:k}=t;b.requireMessageAck&&y({type:'MESSAGE_ACK',payload:C.messageOffset});const h=E();return{state:'message',connectionId:n,webSocketUrl:c,next:Promise.race([h,k()]).then(R=>{const k=C.messageOffset;switch(R.type){case'close':{const o=p(t,b,R);return S(o,_)?(P(),l(t,R,o,n,k,b)):f(n,c,R,k)}case'ping-timeout':return u(t,n,c,h,E,y,P,b,k);case'message':{const{data:o}=R;if('type'in o&&'MESSAGE'===o.type)return s(t,n,c,E,y,P,o,o.payload.length,b)}}return f(n,c,o().UNEXPECTED_ERROR,k)}),lastMessage:C,payloadSize:R,serverDrivenConfig:b}}function u(t,n,u,E,y,P,C,R,b){const{createPongResponseTimeoutPromise:_,abortSignal:k}=t;return P({type:'PING'}),{state:'pending-pong',connectionId:n,next:(async function(){const h=_(),w=await Promise.race([E,h]);if('message'===w.type){const{data:o}=w;if('type'in o){if('MESSAGE'===o.type)return s(t,n,u,y,P,C,o,o.payload.length,R);if('PONG'===o.type)return c(t,n,u,y,P,C,R,0,b)}else;}else{if('close'===w.type||'pong-timeout'===w.type){const o=p(t,R,w);return S(o,k)?(C(),l(t,w,o,n,b,R)):f(n,u,w,b)}w.type}return f(n,u,o().UNEXPECTED_ERROR,b)})(),serverDrivenConfig:R,webSocketUrl:u}}function l(t,s,u,y,P,C,R=1){const{webSocketGatewayURL:b,protocols:_,abortSignal:k,createConnectTimeoutPromise:h,createRetryPromise:w,WebSocket:I,generateConnectionId:O}=t,v=y||O(),U=E(b,v,P);return{state:'reconnecting',connectionId:v,webSocketUrl:U,next:w(u,R).then(async()=>{const{readNextWebSocketEvent:s,writeWebSocketEvent:u,closeWebSocket:E}=(0,n().createWebSocketEventGetter)(U,_,I,k),b=h(),w=await Promise.race([s(),b]);switch(w.type){case'open':return Promise.race([s(),b]).then(n=>{if('close'===n.type)return f(v,U,n,P,R);if('message'===n.type){const{data:o}=n;if('clientConnectionPolicy'in o)return c(t,v,U,s,u,E,o.clientConnectionPolicy,R,P)}return f(v,U,o().UNEXPECTED_ERROR,P,R)});case'timeout':case'close':{const n=p(t,C,w),o=R+1;return S(n,k,o)?(E(),l(t,w,n,y,P,C,o)):f(v,U,w,P,R)}default:return f(v,U,o().UNEXPECTED_ERROR,P,R)}}),attemptCount:R,sourceError:s}}function f(t,n,o,c,s=1){return{state:'disconnected',connectionId:t,webSocketUrl:n,next:null,attemptCount:s,sourceError:o,messageOffset:c}}function E(n,o,c){const s=new URL(n),{searchParams:u}=s;return u.set('connection_id',o),u.set('key',t().API_KEY),c&&u.set('msg_offset',c),s}function p(t,n,{code:o}){return(null==n?void 0:n.closeConfigs.find(t=>t.closeStatusCode===o))||t.defaultCloseConfig}function S(t,{aborted:n},o=1){return o<=t.clientRetryStrategy.maxRetryAttempts&&!n&&t.reconnectable}}),"20e591",["900131","b1e834","235c49"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WEBSOCKET_PONG_RESPONSE_TIMEOUT_MS=e.WEBSOCKET_OPEN_TIMEOUT_MS=e.WEBSOCKET_MAX_WAIT_INTERVAL=e.WEBSOCKET_MAX_RETRY_ATTEMPTS=e.WEBSOCKET_MALFORMED_MESSAGE=e.WEBSOCKET_INITIAL_WAIT_INTERVAL=e.WEBSOCKET_INITIAL_RETRY_DELAY=e.WEBSOCKET_HEALTHCHECK_TIMEOUT_MS=e.WEBSOCKET_FAIL_TO_PARSE_INITIAL_MESSAGE=e.UNEXPECTED_ERROR=e.STREAM_CLOSED_EVENT=e.PONG_TIMEOUT_ERROR_CODE=e.CONNECT_TIMEOUT_ERROR_CODE=void 0;e.STREAM_CLOSED_EVENT={type:'close',code:-3,wasClean:!0,reason:'Stream closed client-side'};e.UNEXPECTED_ERROR={wasClean:!1,code:4702,reason:'Unexpected (impossible) error'};e.WEBSOCKET_FAIL_TO_PARSE_INITIAL_MESSAGE={wasClean:!1,code:4704,reason:'Failed to parse initial message'};e.WEBSOCKET_MALFORMED_MESSAGE=4707;e.CONNECT_TIMEOUT_ERROR_CODE=4709;e.PONG_TIMEOUT_ERROR_CODE=4710;e.WEBSOCKET_OPEN_TIMEOUT_MS=5e3;e.WEBSOCKET_HEALTHCHECK_TIMEOUT_MS=1e4;e.WEBSOCKET_PONG_RESPONSE_TIMEOUT_MS=1e4;const E=Number.POSITIVE_INFINITY;e.WEBSOCKET_MAX_RETRY_ATTEMPTS=E;e.WEBSOCKET_INITIAL_RETRY_DELAY=1e3;e.WEBSOCKET_INITIAL_WAIT_INTERVAL=1e3;e.WEBSOCKET_MAX_WAIT_INTERVAL=6e4}),"235c49",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){return[...(function(){const t=window.crypto||window.msCrypto;return t?t.getRandomValues.bind(t):()=>[]})()(new Uint32Array(4))].map(t=>t.toString(36).padStart(7,'0')).join('')}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.generateRandomString=t;var n=t;e.default=n}),"24220e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=babelHelpers.interopRequireDefault(r(d[0]));return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){const o=(0,t().default)(window);return new n({apiGatewayURL:'',data:u,...o})}}),"2b68b4",["a6e325"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withGraphql=function({prepare:v,extraProps:f}={}){return P=>{var C;function h(n,o){const t=(0,l().useNiobeClients)({context:o}),C=(0,u().usePrepare)({prepareLoader:v,context:o}),{match:b,location:x}=n,y=(0,c().usePrepareProps)({niobeClients:t,prepare:C,preparePropsCacheKey:h,location:x,extraProps:f,match:b});if(null===t||null===C){var N;null===(N=P.load)||void 0===N||N.call(P);const{Placeholder:o}=P;return o?(0,p.jsx)(o,{...n}):null}return void 0!==C&&null===y?null:(0,p.jsx)(s().NiobeClientReactContext.Provider,{value:t,children:(0,p.jsx)(P,{...n,...y})})}return h.load=async function(){const n=h.loadComponent(),o=h.loadPrepare(),t=await h.loadClientConstructors(),[l]=await Promise.all([n,o,...t]);return l},h.loadClientConstructors=function(){return(0,l().loadNiobeClientConstructors)()},h.loadComponent=async function(){var n,o,t;const[l,u]=await Promise.all([null===(n=P.loadComponent)||void 0===n?void 0:n.call(P),null===(o=P.load)||void 0===o?void 0:o.call(P)]);return null!==(t=null!=l?l:u)&&void 0!==t?t:()=>null},h.loadPrepare=async function(){var n,o;const[t,l]=await Promise.all([null==v?void 0:v().then(n=>(v.value=n,n)),null===(n=P.loadPrepare)||void 0===n?void 0:n.call(P)]);return null!==(o=null!=t?t:l)&&void 0!==o?o:()=>({})},h.prepareNiobe=function(n){var o,l;v&&!v.value&&(0,t().throwNiobeError)((0,t().unexpectedlyUnloadedPrepareLoader)());const u=null!==(o=null==v||null===(l=v.value)||void 0===l?void 0:l.call(v,{...n,...f}))&&void 0!==o?o:{};return Promise.resolve(u).then(o=>{n.requestPreparePropsCache&&n.requestPreparePropsCache.set(h,o)}),u},h.displayName=`withGraphql(${null!==(C=P.displayName)&&void 0!==C?C:P.name})`,h.InnerComponent=P,h.contextTypes={...o.asyncChunksContextTypes},(0,n.default)(h,P,{load:!0,loadPrepare:!0,loadComponent:!0,prepareNiobe:!0})}};babelHelpers.interopRequireDefault(r(d[0]));var n=babelHelpers.interopRequireDefault(r(d[1])),o=r(d[2]);function t(){const n=r(d[3]);return t=function(){return n},n}function l(){const n=r(d[4]);return l=function(){return n},n}function u(){const n=r(d[5]);return u=function(){return n},n}function c(){const n=r(d[6]);return c=function(){return n},n}function s(){const n=r(d[7]);return s=function(){return n},n}var p=r(d[8])}),"3f2f1f",["a27fc3","14e802","f35aee","8e002d","e7c79c","d0d9f3","dee61e","7ab1a7","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,w){const f=(0,c().default)(window),s=(0,o().createNiobeFetchEventSource)(window.document.body),l=(0,t.getWebSocketGatewayURL)(window.location);return new u({data:w,fetchStatusMessageTarget:s,webSocketClient:l?new(n().WebSocketClient)({WebSocket:window.WebSocket,onlineIndicator:window,wsGatewayURL:l,metricReporter:f.metricReporter,jitneyLogger:f.jitneyLogger}):void 0,...f})};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}function c(){const t=babelHelpers.interopRequireDefault(r(d[3]));return c=function(){return t},t}}),"41faa0",["8420b9","84b0db","da80b1","a6e325"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),l=Object.assign((0,t.default)(()=>r(d[2])(d[1]).then(babelHelpers.interopRequireWildcard)),{prefetch:()=>r(d[2]).prefetch(d[1])});e.default=l}),"48b649",["b4385c","ff38c3","c592d7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRenderingState=function(){if(!(0,t.hasClientHydrateCompleted)())return'client-hydration';return'client-render'};var t=r(d[0])}),"4e4ed7",["6d2f21"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBrowserHyperloopEnv=function(){const p=t.default.get('HYPERLOOP_ENV');return{loop:(0,o.getHyperloopName)(p),tier:(0,o.default)({isDev:l.IS_DEV,hyperloopEnv:p}),kube_namespace:p}};var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireWildcard(r(d[1])),l=r(d[2])}),"5e1f8e",["0a58da","d74b33","359621"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertCustomRouteConfig=function t(n,o=""){return n.map(n=>{let s;return s='function'==typeof n.path?u(n.path(o)):u(`${o}${u(n.path)}`),{path:s,component:n.component,exact:n.exact,key:n.key,routes:n.routes?t(n.routes,s):[],header:n.header,footer:n.footer,options:n.options}})},e.generateAsyncRouteComponent=function({loader:u,Placeholder:l=null,preloadAdditionalAsyncChunks:p=[]}){let c=null;class h extends t.default.Component{constructor(t,o){super(t,o),this.state=void 0,this.mounted=!0,p&&p.length>0&&(0,n.pushAsyncChunks)(p,o),(0,n.collectAsyncChunks)(u,o),this.updateState=this.updateState.bind(this),this.state={Component:c||u.value||null}}static load(){return u().then(t=>(c=(0,o.getDefaultExport)(t),h.Component=c,c))}static prefetch(){var t;return null===(t=u.prefetch)||void 0===t?void 0:t.call(u)}static getChunkNames(){if(null===c)throw new ReferenceError('Component must be preloaded before we can access the chunk name.');return[u().chunkName,...p]}UNSAFE_componentWillMount(){this.mounted=!0,h.load().then(this.updateState)}UNSAFE_componentWillUnmount(){this.mounted=!1}updateState(){let t={};c&&this.state.Component!==c&&(t={...t,Component:c}),Object.keys(t).length>0&&this.mounted&&this.setState(t)}render(){const{Component:t}=this.state;return t?(0,s.jsx)(t,{...this.props}):l?(0,s.jsx)(l,{...this.props}):null}}return h.Component=void 0,h.Placeholder=l,h.contextTypes={...n.asyncChunksContextTypes},h};var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]),o=r(d[2]),s=(babelHelpers.interopRequireDefault(r(d[3])),babelHelpers.interopRequireDefault(r(d[4])),r(d[5]));function u(t=""){let n=t.replace('//','/');return n.startsWith('/')||(n="/"+n),n}}),"6a00e4",["a27fc3","f35aee","09d809","e80eed","77633c","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBrowserMetricReporter=function(o){const t=null===o.tier?'':o.tier,u=null===o.loop?'':o.loop,c=null===o.kube_namespace?'':o.kube_namespace,l={environment:'browser',tier:t,loop:u,kube_namespace:c},s=window.performance.now.bind(window.performance);return{histogram:(o,t,u)=>{!(function(...o){Math.random()<=.002&&(0,n.airdogDistribution)(...o)})(o,t,{rateLimit:"0.002",...l,...u})},increment:(o,t,u)=>{(0,n.airdogCount)(o,t,{...l,...u})},now:s}};var n=r(d[0])}),"7026da",["3e4681"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,n){const l=(0,t.default)(u,n);if(l&&l[0])return l[0];return null};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"77633c",["e80eed"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeClientReactContext=void 0;const t=(0,r(d[0]).createContext)(null);e.NiobeClientReactContext=t,t.displayName='NiobeClientReactContext'}),"7ab1a7",["a27fc3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWebSocketGatewayURL=function({hostname:t,port:n}){if('2450'===n)return;if(!t)return;if('localhost.airbnb.com'===t)return new URL("wss://ws.localhost.airbnb.com/ws/");if('staging.airbnb.com'===t||t.endsWith('.dev.staging.airbnb.com'))return new URL("wss://ws.staging.airbnb.com/ws/");if(t.endsWith('.localhost.airbnb.tools'))return new URL("wss://ws.localhost.airbnb.tools/ws/");if(t.endsWith('.airbnb.tools'))return new URL(`wss://${t}/ws/`);const o=t.startsWith('airbnb.')?0:t.lastIndexOf('.airbnb.')+1;if(-1===o)return;const b=t.slice(o);return'airbnb.tools'===b||b in s.default?new URL(`wss://ws.${b}/ws/`):void 0};var s=babelHelpers.interopRequireDefault(r(d[0]))}),"8420b9",["4aeaed"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClient=void 0;var n=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2]));function c(){const t=r(d[3]);return c=function(){return t},t}function s(){const t=r(d[4]);return s=function(){return t},t}function u(){const t=r(d[5]);return u=function(){return t},t}function l(){const t=r(d[6]);return l=function(){return t},t}const E=['starfish-1.0.0'];function _(){return new Promise(t=>{setTimeout(()=>t({type:'timeout',wasClean:!1,code:l().CONNECT_TIMEOUT_ERROR_CODE,reason:'WebSocket connection timed out'}),l().WEBSOCKET_OPEN_TIMEOUT_MS)})}function T(){return new Promise(t=>{o.default.getBootstrap('kill_web_websocket_client_ping')||setTimeout(()=>{t({type:'ping-timeout'})},l().WEBSOCKET_HEALTHCHECK_TIMEOUT_MS)})}function C(){return new Promise(t=>{setTimeout(()=>t({type:'pong-timeout',code:l().PONG_TIMEOUT_ERROR_CODE,reason:'Pong timeout',wasClean:!1}),l().WEBSOCKET_PONG_RESPONSE_TIMEOUT_MS)})}function h(t,o,c){if(!1===c.navigator.onLine)return new Promise(t=>{c.addEventListener('online',()=>{t()})});const{clientRetryStrategy:s}=t,u=(function(t,o){const{waitStrategy:c,retryDelayMs:s,waitIntervalMs:u}=t;return'NO_WAIT'===c?0:o<=1?s:'FIXED_INTERVAL'===c?Math.min(u,l().WEBSOCKET_MAX_WAIT_INTERVAL):'EXPONENTIAL_BACKOFF'===c?Math.min(u*2**(o-1),l().WEBSOCKET_MAX_WAIT_INTERVAL):(0,n.default)(c,0)})(s,o);return u>0?new Promise(t=>{setTimeout(()=>{t()},u)}):Promise.resolve()}e.WebSocketClient=class{constructor({WebSocket:n,onlineIndicator:o,metricReporter:c,jitneyLogger:s,wsGatewayURL:u,defaultCloseConfig:E={reconnectable:!0,clientRetryStrategy:{maxRetryAttempts:l().WEBSOCKET_MAX_RETRY_ATTEMPTS,retryDelayMs:l().WEBSOCKET_INITIAL_RETRY_DELAY,useRandomDelay:!1,waitIntervalMs:l().WEBSOCKET_INITIAL_WAIT_INTERVAL,waitStrategy:'EXPONENTIAL_BACKOFF'}}}){this.WebSocket=void 0,this.onlineIndicator=void 0,this.metricReporter=void 0,this.jitneyLogger=void 0,this.generateConnectionId=void 0,this.wsGatewayURL=void 0,this.defaultCloseConfig=void 0,this.connection=void 0,this.connectionAbortSignal=void 0,this.WebSocket=n,this.onlineIndicator=o,this.generateConnectionId=t().v4,this.metricReporter=c,this.jitneyLogger=s,this.wsGatewayURL=u,this.defaultCloseConfig=E,this.metricReporter.increment('frontend.websocket_client.construct',1,{})}connect(t){var n;if(this.connection&&'disconnected'!==this.connection.state&&(null===(n=this.connectionAbortSignal)||void 0===n||!n.aborted))return this.connection;const{WebSocket:o,wsGatewayURL:u,metricReporter:l,jitneyLogger:f,defaultCloseConfig:S}=this,R=(0,c().createPendingOpenWebSocketConnection)({abortSignal:t,webSocketGatewayURL:u,protocols:E,generateConnectionId:this.generateConnectionId,createConnectTimeoutPromise:_,createRetryPromise:(t,n)=>h(t,n,this.onlineIndicator),createPingHealthCheckPromise:T,createPongResponseTimeoutPromise:C,WebSocket:o,defaultCloseConfig:S});this.connection=R,this.connectionAbortSignal=t;const I=async t=>{this.connection=t,this.connection.next&&await I(await this.connection.next)};return I(this.connection),(0,s().observeConnection)(l,f,R),this.connection}subscribe(t,n){const o=this.connect(n);return(0,u().createWebSocketSubscription)(o,t)}}}),"84b0db",["305dd5","956d24","c235f8","20e591","1edb62","8e3dd5","235c49"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buggyApolloCacheFragmentSelectionsWrite=function(n){return t('NIOBE41')},e.invalidNiobeClientType=function(n){return t(`NIOBE04 [${n}]`)},e.invalidNormalizationPatch=function(){return t('NIOBE42')},e.invalidQueryRefError=function(n){return t('NIOBE11')},e.minimalistOperationGivenToApolloClient=function(n){return t(`NIOBE51 [${n}]`)},e.mismatchingNiobeClientType=function(n,o){return t(`NIOBE05 [${n} ${o}]`)},e.mismatchingQueryRef=function(n,o){return t('NIOBE13')},e.missingSerializedNiobeCache=function(){return t('NIOBE31')},e.niobeClientNotFoundFromContext=function(n){return t(`NIOBE01 [${n}]`)},e.noMatchingQueryRef=function(n){return t('NIOBE12')},e.receivedQueryRefForWrongClient=function({type:n},{type:o}){return t(`NIOBE03 [${n} ${o}]`)},e.reportNiobeError=o,e.ssrTimeoutError=function(n,o){return t(`NIOBE52 [${n}]`)},e.throwNiobeError=function(n){throw n},e.unexpectedlyLoadingObservable=function(n){return t('NIOBE29')},e.unexpectedlyUnloadedPrepareLoader=function(){return t('NIOBE21')},e.unparseableSubscriptionMessage=function(n){return t(`NIOBE71 [${n}]`)},e.warnNiobeError=function(n,t){o(n,t)};var n=r(d[0]);function t(t){return new n.PineappleError(t,{fingerprint:['niobe']})}function o(t,o){(0,n.reportError)(t,o)}}),"8e002d",["f2f40f"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){throw new Error('Impossible condition')}function t(t,u){return{state:'established',connection:t,channelId:u,next:t.next.then((function t(h){return'reconnecting'===h.state?c(h,u):'disconnected'===h.state?s(h,u):'message'===h.state?h.lastMessage.channelId===u?o(h,u):h.next.then(t):'pending-pong'===h.state||'established'===h.state?h.next.then(t):void n()}))}}function s(n,t){return{state:'disconnected',connection:n,channelId:t,next:null,sourceError:n.sourceError}}function c(c,o){return{state:'reconnecting',connection:c,channelId:o,next:c.next.then((function c(u){return'established'===u.state?t(u,o):'disconnected'===u.state?s(u,o):'reconnecting'===u.state?u.next.then(c):void n()}))}}function o(t,u){const{lastMessage:h}=t;return{state:'message',connection:t,channelId:u,next:t.next.then((function t(h){return'reconnecting'===h.state?c(h,u):'disconnected'===h.state?s(h,u):'message'===h.state?h.lastMessage.channelId===u?o(h,u):h.next.then(t):'pending-pong'===h.state||'established'===h.state?h.next.then(t):void n()})),message:h.payload}}Object.defineProperty(e,"__esModule",{value:!0}),e.createWebSocketSubscription=function(u,h){if('pending-open'===u.state||'pending-config'===u.state)return{state:'pending',connection:u,channelId:h,next:u.next.then((function n(c){return'established'===c.state?t(c,h):'disconnected'===c.state?s(c,h):c.next.then(n)}))};if('established'===u.state||'pending-pong'===u.state)return t(u,h);if('reconnecting'===u.state)return c(u,h);if('message'===u.state){const{lastMessage:n}=u;return n.channelId===h?o(u,h):t(u,h)}n(u)}}),"8e3dd5",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API_KEY=void 0;e.API_KEY='d306zoyjsyarp7ifhu67rjxn52tv0t20'}),"900131",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return u}}),"956d24",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimalistClientConstructor=void 0,e.useMinimalistClient=function({context:v}={}){var b;(0,n.collectAsyncChunks)(c().niobeMinimalistClientLoader,v);const{niobeMinimalistClient:M}=(0,t.useContext)(l.HyperloopProvidedContext),{niobeMinimalClientData:p}=(0,t.useContext)(o.HyperloopPropsContext),{niobeMinimalistClient:x}=null!==(b=(0,t.useContext)(u().NiobeClientReactContext))&&void 0!==b?b:{},[D,y]=(0,t.useState)(()=>{var t,n;return null!==(t=null!=M?M:x)&&void 0!==t?t:f.value&&(0,C().default)(f.value,null!=p?p:null===(n=(0,s().getState)())||void 0===n?void 0:n.niobeMinimalClientData)});return(0,t.useEffect)(()=>{let t=!0;return D||f().then(n=>{var l;t&&y((0,C().default)(n,null!=p?p:null===(l=(0,s().getState)())||void 0===l?void 0:l.niobeMinimalClientData))}),()=>{t=!1}},[]),(0,t.useEffect)(()=>{x||D&&(0,s().getDeferredState)().then(t=>{null!=t&&t.niobeMinimalClientData&&D.updateCache(null==t?void 0:t.niobeMinimalClientData)})},[D]),D};var t=r(d[0]),n=r(d[1]),l=r(d[2]),o=r(d[3]);function u(){const t=r(d[4]);return u=function(){return t},t}function s(){const t=r(d[5]);return s=function(){return t},t}function c(){const t=r(d[6]);return c=function(){return t},t}function C(){const t=babelHelpers.interopRequireDefault(r(d[7]));return C=function(){return t},t}const f=async()=>{const t=await(0,c().niobeMinimalistClientLoader)();return f.value=t,t};e.getMinimalistClientConstructor=f}),"9b702c",["a27fc3","f35aee","a78e15","ab9511","7ab1a7","e7c79c","d75111","41faa0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{"X-Airbnb-Supports-Airlock-V2":'true'}}}),"a54380",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(b){var R;const S=new URLSearchParams(b.location.search),v='true'===S.get('niobe_skip_prepare'),h='true'===S.get('niobe_data_wrapper'),H=S.get('niobe_test_destinations'),D={...(0,s().default)()};H&&(D[l().KRAKEN_TEST_DESTINATIONS_HEADER]=H);const E=t.default.getBootstrap('kill_niobe_custom_fetch')?b.fetch:(0,n().createBrowserFetch)(b.fetch),w=(0,p().getBrowserHyperloopEnv)(),y=(0,c().createBrowserMetricReporter)(w),q=o.default.logJitneyEvent.bind(o.default),{performance:B}=b,T=null==B||null===(R=B.memory)||void 0===R?void 0:R.jsHeapSizeLimit,j=T&&T/4,A=h?_().default:void 0;return{fetch:E,getRenderingState:f().getRenderingState,disablePrepare:v,wrapResultData:A,extraHeaders:D,metricReporter:y,jitneyLogger:q,performance:B,cacheMaxSize:j,generateRandomString:u.generateRandomString}};var t=babelHelpers.interopRequireDefault(r(d[0]));function n(){const t=r(d[1]);return n=function(){return t},t}var o=babelHelpers.interopRequireDefault(r(d[2])),u=r(d[3]);function c(){const t=r(d[4]);return c=function(){return t},t}function f(){const t=r(d[5]);return f=function(){return t},t}function l(){const t=r(d[6]);return l=function(){return t},t}function s(){const t=babelHelpers.interopRequireDefault(r(d[7]));return s=function(){return t},t}function p(){const t=r(d[8]);return p=function(){return t},t}function _(){const t=babelHelpers.interopRequireDefault(r(d[9]));return _=function(){return t},t}}),"a6e325",["c235f8","dcca7a","c8b97a","24220e","7026da","4e4ed7","dbad64","a54380","5e1f8e","e50e76"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HyperloopProvidedContext=void 0;var o=babelHelpers.interopRequireWildcard(r(d[0]));r(d[1]);const t=(0,o.createContext)({});e.HyperloopProvidedContext=t}),"a78e15",["a27fc3","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HyperloopPropsContext=void 0;const o=(0,r(d[0]).createContext)({});e.HyperloopPropsContext=o}),"ab9511",["a27fc3"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.createWebSocketEventGetter=function(t,o,s,c){const l=new s(t,o),u=(function(t){let o=!1;return new ReadableStream({start(s){const c=()=>s.enqueue({type:'open'}),l=({data:t})=>{try{const n=JSON.parse(t);s.enqueue({type:'message',data:n})}catch(o){s.enqueue({type:'close',code:n().WEBSOCKET_MALFORMED_MESSAGE,reason:`Malformed message \`${t}\`. The error was \`${o}\`.`,wasClean:!1})}};t.addEventListener('open',c,{once:!0}),t.addEventListener('message',l),t.addEventListener('close',(function n({code:u,reason:v,wasClean:E}){o||(s.enqueue({type:'close',code:u,reason:v,wasClean:E}),s.close()),t.removeEventListener('open',c),t.removeEventListener('message',l),t.removeEventListener('close',n)}),{once:!0})},cancel(){var n;o=!0,null===(n=t.close)||void 0===n||n.call(t)}})})(l).getReader(),v=()=>{u.cancel()};c.aborted&&v();c.addEventListener('abort',v,{once:!0}),u.closed.then(()=>{c.removeEventListener('abort',v)});let E=null;return{readNextWebSocketEvent:async()=>{const{value:t}=await u.read();return'close'===(null==t?void 0:t.type)&&(E=t),t||E||n().STREAM_CLOSED_EVENT},writeWebSocketEvent:n=>{l.send(JSON.stringify(n))},closeWebSocket:()=>{u.cancel()}}}}),"b1e834",["235c49"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return()=>{const u=n();return Object.assign(u.then(t.default),u)}};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"b4385c",["d17907"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClientConnectionAttemptEvent=void 0;var t={defaultProps:{schema:'com.airbnb.jitney.event.logging.WebSocketClient:WebSocketClientConnectionAttemptEvent:1.0.0',event_name:'websocketclient_connection_attempt'},propTypes:{}};e.WebSocketClientConnectionAttemptEvent=t,t.fullyQualifiedName='WebSocketClient.v1.WebSocketClientConnectionAttemptEvent'}),"b74c0c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClientMessageEvent=void 0;var t={defaultProps:{schema:'com.airbnb.jitney.event.logging.WebSocketClient:WebSocketClientMessageEvent:1.0.0',event_name:'websocketclient_message'},propTypes:{}};e.WebSocketClientMessageEvent=t,t.fullyQualifiedName='WebSocketClient.v1.WebSocketClientMessageEvent'}),"ba6358",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getApolloClientConstructor=void 0,e.useNiobeApolloClient=function({skip:f=!1,context:v}={}){var b,A;f||(0,n.collectAsyncChunks)(c().niobeApolloClientLoader,v);const{niobeApolloClient:x}=(0,t.useContext)(o.HyperloopProvidedContext),{niobeApolloClientData:y=(null===(b=(0,C().getState)())||void 0===b?void 0:b.niobeApolloClientData)}=(0,t.useContext)(l.HyperloopPropsContext),{niobeApolloClient:_}=null!==(A=(0,t.useContext)(u().NiobeClientReactContext))&&void 0!==A?A:{},[D,H]=(0,t.useState)(()=>{var t;return null!==(t=null!=x?x:_)&&void 0!==t?t:p.value&&(0,s().default)(p.value,y)});return(0,t.useEffect)(()=>{let t=!0;return D||f||p().then(n=>{t&&H((0,s().default)(n,y))}),()=>{t=!1}},[]),D};var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]);function u(){const t=r(d[4]);return u=function(){return t},t}function c(){const t=r(d[5]);return c=function(){return t},t}function s(){const t=babelHelpers.interopRequireDefault(r(d[6]));return s=function(){return t},t}function C(){const t=r(d[7]);return C=function(){return t},t}const p=async()=>{const t=await(0,c().niobeApolloClientLoader)();return p.value=t,t};e.getApolloClientConstructor=p}),"bcce8b",["a27fc3","f35aee","a78e15","ab9511","7ab1a7","d75111","2b68b4","e7c79c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrebuchetClientContext=void 0;const t=(0,r(d[0]).createContext)(void 0);e.TrebuchetClientContext=t,t.displayName='TrebuchetClientContext'}),"c5fff4",["a27fc3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepare=function({prepareLoader:n,context:l}){n&&(0,u.collectAsyncChunks)(n,l);const[c,o]=(0,t.useState)(()=>null==n?void 0:n.value);return(0,t.useEffect)(()=>{let t=!0;return n&&!c&&n().then(u=>{n.value=u,t&&o(()=>u)}),()=>{t=!1}},[]),n?c||null:void 0};var t=r(d[0]),u=r(d[1])}),"d0d9f3",["a27fc3","f35aee"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(function(t){return t&&!(null==t||!t.default)})(t)?t.default:t}}),"d17907",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketClientConnectionResultEvent=void 0;var t={defaultProps:{schema:'com.airbnb.jitney.event.logging.WebSocketClient:WebSocketClientConnectionResultEvent:2.0.0',event_name:'websocketclient_connection_result'},propTypes:{}};e.WebSocketClientConnectionResultEvent=t,t.fullyQualifiedName='WebSocketClient.v2.WebSocketClientConnectionResultEvent'}),"d67ac8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({isDev:n,hyperloopEnv:t}){if(n&&'false'!==n)return'development';if(!t)return null;const l=t.match(/-(\w+|shared-development)(-[0-9]+)?$/);let u;if(!l)return null;u=l[1];return u},e.getHyperloopName=function(n){if(!n)return null;const t=n.match(/^(\w|-)+?loop/);if(!t)return null;return t[0]}}),"d74b33",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.niobeMinimalistClientLoader=e.niobeApolloClientLoader=void 0;var o=r(d[0]);const n=Object.assign((0,o.normalizeLoader)(()=>r(d[2])(d[1]).then(babelHelpers.interopRequireWildcard)),{prefetch:()=>r(d[2]).prefetch(d[1])});e.niobeApolloClientLoader=n;const t=Object.assign((0,o.normalizeLoader)(()=>r(d[2])(d[3]).then(babelHelpers.interopRequireWildcard)),{prefetch:()=>r(d[2]).prefetch(d[3])});e.niobeMinimalistClientLoader=t}),"d75111",["09d809","5278ae","c592d7","d60f20"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFetchFailureEvent=function(){return new Event('fetch-did-fail')},e.createFetchSuccessEvent=function(){return new Event('fetch-did-succeed')},e.createNiobeFetchEventSource=function(t){return t}}),"da80b1",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KRAKEN_TEST_DESTINATIONS_HEADER=void 0;e.KRAKEN_TEST_DESTINATIONS_HEADER="X-Kraken-Test-Destinations";"X-Kraken-Test-Destinations".toLowerCase()}),"dbad64",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBrowserFetch=function(c=globalThis.fetch){let u=0,s=0;const f=[];function T(){const{TOTAL_INFLIGHT_REQUESTS_THRESHOLD:t,MAX_INFLIGHT_PREFETCH_REQUESTS:n}=E[o.default.findTreatment('web_prefetch_framework_v1')]||E.treatment_unknown;return u<t&&s<n}function h(){const{MAX_UNFIRED_QUEUED_PREFETCH_REQUESTS:t}=E[o.default.findTreatment('web_prefetch_framework_v1')]||E.treatment_unknown;return f.length>t}function l(){const{reject:t}=f.shift()||{};t&&t(new DOMException('Prefetch request dropped because the max queue capacity was reached.','AbortError'))}return function o(E,R){const p=R&&R.type,S=new Request(E,{priority:"prefetch"===p?'low':'auto',...R}),H="prefetch"===p?(function(n){if((0,t.airdogCount)('fetch.web_prefetch_request_made'),(0,t.airdogDistribution)('fetch.web_prefetch_queue_size',f.length),_.default.getBootstrap('web.networking_service_prefetch_kill_switch'))return Promise.reject(new DOMException('Prefetch request dropped because the kill switch is on','AbortError'));if(T())return(0,t.airdogCount)('fetch.web_prefetch_request_immediately_triggered'),s++,u++,c(n);(0,t.airdogCount)('fetch.web_prefetch_request_queued');const o=new Promise((t,_)=>{f.push({request:n,resolve:t,reject:_})});for(;h();)(0,t.airdogCount)('fetch.web_prefetch_queued_request_dropped'),l();if(n.signal){const t=()=>{const t=f.findIndex(({request:t})=>n===t);t>=0&&f.splice(t,1)};n.signal.addEventListener('abort',t),o.finally(()=>n.signal.removeEventListener('abort',t))}return o})(S):(function(t){u++;const n=c(t),_=f.findIndex(({request:n})=>n.method===t.method&&n.url===t.url);if(-1!==_){const t=f.splice(_,1);n.then(n=>{t.forEach(({resolve:t})=>t(n.clone()))})}return n})(S);return H.finally(()=>{try{if(u--,"prefetch"===p&&s--,f.length>0&&T()){(0,t.airdogCount)('fetch.web_prefetch_request_triggered_after_delay');const{request:n,resolve:_,reject:E}=f.shift()||{};n&&o(n).then(_).catch(E)}}catch(t){t instanceof Error?(0,n.reportError)(t):(0,n.reportError)(new Error('Unexpected fetch deduping error'))}}).catch(()=>{}),H}};var t=r(d[0]),n=r(d[1]),_=babelHelpers.interopRequireDefault(r(d[2])),o=babelHelpers.interopRequireDefault(r(d[3]));const E={control:{TOTAL_INFLIGHT_REQUESTS_THRESHOLD:0,MAX_INFLIGHT_PREFETCH_REQUESTS:0,MAX_UNFIRED_QUEUED_PREFETCH_REQUESTS:0},treatment_unknown:{TOTAL_INFLIGHT_REQUESTS_THRESHOLD:30,MAX_INFLIGHT_PREFETCH_REQUESTS:20,MAX_UNFIRED_QUEUED_PREFETCH_REQUESTS:30},treatment_low:{TOTAL_INFLIGHT_REQUESTS_THRESHOLD:20,MAX_INFLIGHT_PREFETCH_REQUESTS:10,MAX_UNFIRED_QUEUED_PREFETCH_REQUESTS:15},treatment_high:{TOTAL_INFLIGHT_REQUESTS_THRESHOLD:50,MAX_INFLIGHT_PREFETCH_REQUESTS:30,MAX_UNFIRED_QUEUED_PREFETCH_REQUESTS:40}}}),"dcca7a",["3e4681","f2f40f","c235f8","dcc72a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSharedPrepareOptions=function(){const{cookie:b,requestDomain:h,hostname:v}=(function(){var n,u;const{cookies:l,requestDomain:s,hostname:c}=(0,t.useContext)(f.HyperloopProvidedContext);return{cookie:t=>(0,o.default)(t)||null,requestDomain:null===(n=window.location)||void 0===n?void 0:n.hostname,hostname:null===(u=window.location)||void 0===u?void 0:u.hostname}})(),D=n.default.get('cdn_experiments'),P=n.default.get('exploreTreatments'),q=n.default.get('customPrepareNiobeData'),C=n.default.get('initialPageCDNCached'),x=String(s.default.current().id||''),R=(0,t.useContext)(c.TrebuchetClientContext);return{requestDomain:h,hostname:v,getRenderingState:p().getRenderingState,cookie:b,exploreTreatments:P,customPrepareNiobeData:q,currentUserId:x,isPrefetch:!1,getTrebuchets:t=>t.map(t=>R&&R(t)),getErf:t=>{var n;const o=null!==(n=D[t])&&void 0!==n?n:l.default.findTreatmentAndLog(t);return Promise.resolve(o)},logJitneyEvent:u.default.logJitneyEvent.bind(u.default),requestPreparePropsCache:null,initialPageCDNCached:C}};var t=r(d[0]),n=babelHelpers.interopRequireDefault(r(d[1])),o=babelHelpers.interopRequireDefault(r(d[2])),u=babelHelpers.interopRequireDefault(r(d[3])),l=babelHelpers.interopRequireDefault(r(d[4])),s=babelHelpers.interopRequireDefault(r(d[5])),c=r(d[6]),f=r(d[7]);function p(){const t=r(d[8]);return p=function(){return t},t}}),"de8b38",["a27fc3","0a58da","e7272f","c8b97a","fc0842","06a99e","c5fff4","a78e15","4e4ed7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepareProps=function({niobeClients:o,prepare:s,match:c,location:l,extraProps:p,preparePropsCacheKey:f}){const{requestPreparePropsCache:P}=(0,n.useContext)(t.HyperloopProvidedContext),v=(0,n.useRef)(null),h=(0,n.useRef)(null),C=(0,u().useSharedPrepareOptions)(),R=(0,n.useRef)(l),_=(0,n.useRef)(c);_.current=c,R.current=l;const x=(0,n.useMemo)(()=>{var n,t;return o&&s?null!==(n=null!==(t=null==P?void 0:P.get(f))&&void 0!==t?t:null==s?void 0:s({...C,match:_.current,location:R.current,previousPrepareProps:v.current,previousLocation:h.current,...o,...p}))&&void 0!==n?n:{}:null},[p,o,s,f,P,C]),y=x instanceof Promise?null:x,[b,M]=(0,n.useState)(null),O=null!=y?y:b;return v.current=O,h.current=l,(0,n.useEffect)(()=>{let n=!0;return x instanceof Promise&&x.then(t=>{n&&M(t)}),()=>{n=!1}},[c,l]),O};var n=r(d[0]),t=r(d[1]);function u(){const n=r(d[2]);return u=function(){return n},n}}),"dee61e",["a27fc3","a78e15","de8b38"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n(t)};const n=(o,u=[],c=new Set)=>new Proxy(o,{get(o,s){const f=Reflect.get(o,s),l=[...u,Array.isArray(o)?'[]':s],y=l.join('.');return null===f||'object'!=typeof f?(c.has(y)||(c.add(y),(0,t().postNiobeDataMessage)({key:y})),f):n(f,l,c)}})}),"e50e76",["f127a0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getState=e.getDeferredState=void 0,e.loadNiobeClientConstructors=async function(){var n;const t=f().getMinimalistClientConstructor,l=p().getApolloClientConstructor;let o=[];const u=null!==(n=await(0,C.default)('state'))&&void 0!==n?n:{},{loadSingleClient:s,niobeClientIsMinimalist:c}=u;o=s&&c?[t]:[t,l];return o.map(n=>n())},e.useNiobeClients=function({context:t,onlyMinimalist:l}){var s,C,c,b,v,A,I,h;const{niobeClientIsMinimalist:x,loadSingleClient:D}=(0,n.useContext)(u.HyperloopProvidedContext),{niobeClientIsMinimalist:y,loadSingleClient:H}=(0,n.useContext)(o.HyperloopPropsContext),N=null!==(s=null!==(C=null!==(c=null!=l?l:x)&&void 0!==c?c:y)&&void 0!==C?C:null===(b=M())||void 0===b?void 0:b.niobeClientIsMinimalist)&&void 0!==s&&s,O=null!==(v=null!==(A=null!==(I=null!=l?l:D)&&void 0!==I?I:H)&&void 0!==A?A:null===(h=M())||void 0===h?void 0:h.loadSingleClient)&&void 0!==v&&v,{shouldLoadApolloClient:P}=(function({loadSingleClient:n,niobeClientIsMinimalist:t}){const l=n&&!t||!n;return{shouldCreateMinimalistClient:!0,shouldCreateApolloClient:l,shouldLoadApolloClient:l}})({loadSingleClient:O,niobeClientIsMinimalist:N}),R={niobeMinimalistClient:(0,f().useMinimalistClient)({context:t}),niobeApolloClient:(0,p().useNiobeApolloClient)({context:t,skip:!P})},_={...S({...R,niobeClientIsMinimalist:N}),...R};return(function(n){return Boolean(n.niobeClient&&n.niobeMinimalistClient)})(_)?_:null};var n=r(d[0]),t=babelHelpers.interopRequireDefault(r(d[1])),l=babelHelpers.interopRequireDefault(r(d[2])),o=r(d[3]),u=r(d[4]),s=r(d[5]),C=babelHelpers.interopRequireDefault(r(d[6]));function c(){const n=r(d[7]);return c=function(){return n},n}function b(){const n=r(d[8]);return b=function(){return n},n}function p(){const n=r(d[9]);return p=function(){return n},n}function f(){const n=r(d[10]);return f=function(){return n},n}const v=()=>{var n;return null!==(n=v.promise)&&void 0!==n||(v.promise=(0,C.default)('deferred-state')),v.promise};e.getDeferredState=v;const M=()=>{{if(M.value)return M.value;const n=(0,l.default)('state')||{};return'client-hydration'!==(0,c().getRenderingState)()||null!=n&&n.niobeApolloClientData&&null!=n&&n.niobeMinimalClientData||(0,s.isAppShell)()||t.default.get('isOmni')||'true'===process.env.HAPPO||'STORYBOOK_ENV'in window||(0,b().warnNiobeError)((0,b().missingSerializedNiobeCache)()),M.value=n,n}};function S({niobeClientIsMinimalist:n,niobeMinimalistClient:t,niobeApolloClient:l}){return{niobeClient:n?null!=t?t:l:null!=l?l:t,niobeMinimalistClient:t}}e.getState=M}),"e7c79c",["a27fc3","0a58da","b2dff4","ab9511","a78e15","f93908","ff7755","4e4ed7","8e002d","bcce8b","9b702c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postNiobeDataMessage=void 0;e.postNiobeDataMessage=o=>{window&&window.postMessage({name:"x-ray-niobe-data",key:o.key},'*')}}),"f127a0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const s=babelHelpers.interopRequireDefault(r(d[0]));return n=function(){return s},s}Object.defineProperty(e,"__esModule",{value:!0}),e.asyncChunksContextTypes=void 0,e.collectAsyncChunks=function(n,s){null==s||s.asyncChunks},e.pushAsyncChunks=void 0;const s={asyncChunks:n().default.instanceOf(Set),staticAsyncChunks:n().default.instanceOf(Set)};e.asyncChunksContextTypes=s;e.pushAsyncChunks=(n,s)=>{}}),"f35aee",["b56f5a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAppShell=function(){return!0===t.default.get('isAppShell')};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"f93908",["0a58da"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/3eff.2b95ed9d65.js.map