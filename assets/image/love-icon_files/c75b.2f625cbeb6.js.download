__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n=A(),t){const{type:s,payload:E}=t;switch(s){case O.LOGIN_DATA_RECEIVED:{const{form:o,ignoreSuggestedLoginUsers:s,skipToEmailSignupForm:_,suggestedLogin:u}=n,{suggested_login_users:L}=E,{suggestedLoginEnabled:I,currentLoginPaneView:l,suggestedLoginStates:c}=f(L,s),O=E.channel_options||{},N=T(O,_);return{...n,...E,contextualLoginMethod:O.contextual_login_method,form:R(o,{...t,contextualLoginMethod:O.contextual_login_method,suggestedLoginMethod:c.currentLoginMethod},_),currentLoginPaneView:l,loginPaneViewHistory:[],initialCombineAuthPaneView:N,currentCombineAuthPaneView:N,suggestedLoginEnabled:I,suggestedLogin:{...u,...c}}}case C.ERROR_MESSAGE_RECEIVED:if(E.pane===u.Panes.LOGIN){let o=n.currentCombineAuthPaneView;return'signup'===E.suggestedAuthType&&(o=u.CombineAuthPaneViews.OTP_PHONE_SIGNUP),{...n,errorMessage:E.message||'',abandonLoginEmail:E.abandonLoginEmail||'',form:R(n.form,t),suggestedAuthType:E.suggestedAuthType||'',currentCombineAuthPaneView:o}}return n;case O.LOGIN_CTA_CLICKED:{let o=n.contextualLoginMethod;return n.contextualLoginMethod&&(t.payload===u.LoginMethods.PHONE_LOGIN?o=u.ContextualLoginMethods.phone:t.payload===u.LoginMethods.EMAIL_LOGIN&&(o=u.ContextualLoginMethods.email)),{...n,contextualLoginMethod:o,form:R(n.form,t),errorMessage:''}}case C.COMBINE_AUTH_CTA_CLICKED:return{...n,errorMessage:'',currentCombineAuthPaneView:t.payload,form:R(n.form,t)};case O.BACK_TO_OTP_PHONE_VERIFY_CODE_CLICKED:return{...n,suggestedLoginEnabled:!1,currentLoginPaneView:D(n),loginPaneViewHistory:V(n)};case O.BACK_TO_EMAIL_VERIFICATION_MODAL:return{...n,suggestedLoginEnabled:!1,currentLoginPaneView:D(n),loginPaneViewHistory:V(n),form:R(n.form,t)};case C.SEND_VERIFICATION_CODE_SUCCESS:{const{deliveryMethod:o}=E;return{...n,errorMessage:'',otpDeliveryMethod:o,form:R(n.form,t),currentCombineAuthPaneView:u.CombineAuthPaneViews.ALL_LOGIN_OPTIONS,currentLoginPaneView:u.LoginPaneViews.OTP_PHONE_VERIFY_CODE}}case C.SEND_VERIFICATION_CODE_FAILED:return{...n,form:R(n.form,t),errorMessage:E.message};case C.RESET_EMAIL_LOGIN_FORM_VALUES:return{...n,form:R(n.form,t),abandonLoginEmail:'',errorMessage:''};case C.VERIFICATION_CODE_BUTTON_ENABLED:case C.RESET_PHONE_FORM_VALUES:case C.RESET_VALIDATION_ERROR_FOCUS:case O.LOGIN_FIELD_CHANGED:case O.SHOW_LOGIN_METHOD:case O.VALID_EMAIL_LOGIN_FORM_SUBMITTED:case O.VALID_PHONE_NUMBER_LOGIN_FORM_SUBMITTED:case O.OTP_LOGIN_MODAL_TRIGGERED:case O.APRISA_LOGIN_MODAL_TRIGGERED:case O.INVALID_EMAIL_LOGIN_FORM_SUBMITTED:case O.INVALID_PHONE_NUMBER_LOGIN_FORM_SUBMITTED:case O.INVALID_UNIFIED_EMAIL_LOGIN_FORM_SUBMITTED:case O.AUTH_FLOW_CALL_COMPLETE:case O.HAD_PASSWORD_CHANGED:case C.SET_CURRENT_LOGIN_EMAIL:case O.INVALID_CHINA_MANDATORY_TOS:return{...n,form:R(n.form,t),errorMessage:''};case C.SEND_VERIFICATION_CODE_STARTED:case O.VALID_UNIFIED_FORM_SUBMITTED:return{...n,isOtpCodeExpired:!1,form:R(n.form,t),errorMessage:''};case O.OTP_SESSION_EXPIRED:return{...n,isOtpCodeExpired:!0,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:u.LoginPaneViews.DEFAULT,loginPaneViewHistory:[],form:{...R(n.form,t),currentLoginMethod:u.LoginMethods.PHONE_LOGIN}};case C.USER_AUTH_SUCCEEDED:{const{currentSignUpLoginMethodInternalStateSessionId:o}=n;return o&&(0,_.logSessionEnd)({sessionId:o}),{...n,form:R(n.form,t),errorMessage:'',loginPaneViewHistory:[],currentSignUpLoginMethod:void 0,currentSignUpLoginMethodInternalStateSessionId:void 0}}case C.SETUP_DATA_RECEIVED:var M,F,p;return{...n,isSSO:null!==(M=E.isSSO)&&void 0!==M?M:n.isSSO,skipToEmailSignupForm:null!==(F=E.skipToEmailSignupForm)&&void 0!==F?F:n.skipToEmailSignupForm,ignoreSuggestedLoginUsers:null!==(p=E.ignoreSuggestedLoginUsers)&&void 0!==p?p:n.ignoreSuggestedLoginUsers};case O.LOGIN_PROMPT_MORE_OPTIONS_CLICKED:case O.CONTEXTUAL_LOGIN_MORE_OPTIONS_CLICKED:return{...n,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:D(n),loginPaneViewHistory:V(n),contextualLoginMethod:void 0,form:R(n.form,t)};case C.SHOW_LOGIN_PANE_DEFAULT_VIEW:{let o,s=u.LoginMethods.PHONE_LOGIN,_=u.LoginPaneViews.DEFAULT;return n.suggestedLogin.currentLoginMethod===u.SuggestedLoginMethods.email&&(s=u.LoginMethods.EMAIL_LOGIN,_=u.LoginPaneViews.EMAIL_UNIFIED,o=u.ContextualLoginMethods.email),{...n,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:_,loginPaneViewHistory:[],contextualLoginMethod:o,form:{...R(n.form,t),currentLoginMethod:s}}}case O.CONTEXTUAL_LOGIN_EMAIL_CLICKED:return{...n,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:u.LoginPaneViews.EMAIL_UNIFIED,loginPaneViewHistory:[],contextualLoginMethod:u.ContextualLoginMethods.email,form:R(n.form,t)};case O.CONTINUE_WITH_PHONE_CLICKED:return{...n,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:u.LoginPaneViews.DEFAULT,loginPaneViewHistory:[],contextualLoginMethod:void 0,form:R(n.form,t)};case C.FORGOT_PASSWORD_CLICKED:if(E===u.LoginMethods.PHONE_LOGIN||E===u.LoginMethods.PHONE_OR_EMAIL_LOGIN){const n=encodeURIComponent(window.location.href);window.location.href=`${u.FORGOT_PASSWORD_UI_URL}?from=phone&redirect_url=${n}`}return n;case C.SHOW_LOGIN_PANE_SINGLE_SUGGESTION_VIEW:return{...n,currentLoginPaneView:u.LoginPaneViews.SUGGESTED_LOGIN,loginPaneViewHistory:P(n)};case C.SHOW_EMAIL_SUGGESTED_LOGIN_VIEW:return U(n,t,u.SuggestedLoginMethods.email);case C.SHOW_PHONE_SUGGESTED_LOGIN_VIEW:return U(n,t,u.SuggestedLoginMethods.otp_phone,n.phone_countries);case C.SHOW_LOGIN_PANE_MULTIPLE_SUGGESTION_VIEW:return{...n,suggestedLogin:{...n.suggestedLogin,currentLoginMethod:u.SuggestedLoginMethods.undecided,currentLoginView:u.SuggestedLoginViews.multiple}};case N.SET_PHONE_COUNTRIES:{const o=(0,I.getDefaultCountryCode)(E,n.default_country),t=(0,I.formFieldChanged)(n.form,L.LoginFields.countryCode,o);return{...n,phone_countries:E,form:t}}case O.LOGIN_PHONE_OTP_MORE_OPTIONS_CLICKED:return{...n,currentLoginPaneView:u.LoginPaneViews.OTP_PHONE_MORE_OPTIONS,loginPaneViewHistory:P(n)};case O.UNIFIED_EMAIL_ACCOUNT_EXISTS:return{...n,currentLoginPaneView:u.LoginPaneViews.EMAIL_UNIFIED_PASSWORD,loginPaneViewHistory:P(n),abandonLoginEmail:''};case O.UNIFIED_NEW_ACCOUNT_FLOW_STARTED:return{...n,currentLoginPaneView:u.LoginPaneViews.EMAIL_UNIFIED_SIGNUP,loginPaneViewHistory:P(n,s)};case C.SHOW_SUGGESTED_LOGIN_VIEW:{const o={...n,currentLoginPaneView:u.LoginPaneViews.SUGGESTED_LOGIN,loginPaneViewHistory:P(n),suggested_login_users:t.payload.suggestedLoginUsers};return U(o,t,t.payload.method)}case C.UPDATED_AUTH_TYPE_INTERNAL_STATE:return{...n,currentAuthTypeInternalStateSessionId:E.currentAuthTypeInternalStateSessionId};case C.MODAL_CLOSED:{const{channel_options:o,default_country:s,form:E,phone_countries:u,suggested_login_users:O,skipToEmailSignupForm:N,suggestedLogin:C,ignoreSuggestedLoginUsers:S}=n;n.currentSignUpLoginMethodInternalStateSessionId&&(0,_.logSessionEnd)({sessionId:n.currentSignUpLoginMethodInternalStateSessionId});const M=(0,l.isGlobalPhoneLoginEnabled)()||(0,c.default)(),D=o.contextual_login_method||void 0,P=O,V=h(N),{suggestedLoginEnabled:U,currentLoginPaneView:F,suggestedLoginStates:p}=f(P,S),G=T(o,N),w=M&&!U?(0,I.getFormStateWithDefaultPhoneCountryCode)(A().form,L.LoginFields.countryCode,u,s):E;return{...n,contextualLoginMethod:D,form:R(w,{...t,contextualLoginMethod:D,suggestedLoginMethod:V,suggestedLoginEnabled:U},N),currentLoginPaneView:F,initialCombineAuthPaneView:G,currentCombineAuthPaneView:G,suggestedLoginEnabled:U,suggestedLogin:{...C,...p},currentSignUpLoginMethod:void 0,currentSignUpLoginMethodInternalStateSessionId:void 0,errorMessage:''}}case C.SIGN_UP_LOGIN_METHOD_SWITCHED:if(E!==n.currentSignUpLoginMethod){n.currentSignUpLoginMethodInternalStateSessionId&&(0,_.logSessionEnd)({sessionId:n.currentSignUpLoginMethodInternalStateSessionId});const t=(0,_.logSessionStart)({schema:o().SignupLoginMethodInternalStateSession,event_data:{auth_method:E}});return{...n,currentSignUpLoginMethod:E,currentSignUpLoginMethodInternalStateSessionId:t}}return n;case C.SET_IS_MODAL_FOCUSED:return{...n,isModalFocused:E};case C.SET_IS_EMBEDDED_APP:return{...n,isEmbeddedApp:E};case C.MODAL_OPEN_SUCCEEDED:case C.SET_IS_FULL_PAGE:return n;case O.EMAIL_VERIFICATION_MODAL_TRIGGERED:return{...n,errorMessage:'',suggestedLoginEnabled:!1,currentLoginPaneView:u.LoginPaneViews.OTP_EMAIL_VERIFICATION,loginPaneViewHistory:P(n),contextualLoginMethod:void 0,form:R(n.form,t)};case O.EMAIL_VERIFICATION_THIS_IS_NOT_MY_ACCOUNT:return{...n,currentLoginPaneView:u.LoginPaneViews.OTP_LOG_IN_ANOTHER_WAY,loginPaneViewHistory:P(n)};case O.RECYCLED_PHONE_NUMBER_DELETION_SUBMITTED:case O.RECYCLED_PHONE_NUMBER_DELETION_SUCCESS:case O.RECYCLED_PHONE_NUMBER_DELETION_FAILURE:case O.EMAIL_VERIFICATION_ATTEMPTS_UPDATED:case O.EMAIL_VERIFICATION_SUBMITTED:case O.EMAIL_VERIFICATION_ANONYMIZED_EMAIL_RECEIVED:return{...n,form:R(n.form,t)};case S.LOGIN_ADMIN_FORCE_NEW_STATE:return{...n,...E};default:return n}};var n=babelHelpers.interopRequireDefault(r(d[0]));function o(){const n=r(d[1]);return o=function(){return n},n}var t=r(d[2]),s=r(d[3]),_=r(d[4]),E=r(d[5]),u=r(d[6]),L=r(d[7]),I=r(d[8]),l=r(d[9]),c=babelHelpers.interopRequireDefault(r(d[10])),O=r(d[11]),N=r(d[12]),C=r(d[13]),S=r(d[14]);const M={countryCode:'1US',email:'',password:'',phoneNumber:'',phoneOrEmail:'',rememberMe:(0,E.isInChinaFlow)(),verificationCode:'',confirmationEmail:'',chinaMandatoryTOS:!1},A=()=>({form:{currentValues:M,verificationCodeButtonEnabled:!0,validationErrors:{email:[],password:[],phoneNumber:[],phoneOrEmail:[],verificationCode:[],countryCode:[],confirmationEmail:[]},focusFirstValidationError:!1,clearErrorOnNextInput:{email:!1,password:!1,phoneOrEmail:!1,verificationCode:!1,phoneNumber:!1,rememberMe:!1,confirmationEmail:!1,chinaMandatoryTOS:!1},isSubmitting:!1,currentLoginMethod:u.LoginMethods.PHONE_LOGIN,isRequestingVerificationCode:!1,isVerificationCodeResent:!1,codeLength:4,hadPassword:!1,loginMethodChanged:!1,emailConfirmation:{isRequestingAnonymizedEmail:!1,isVerifyingConfirmationEmail:!1,anonymizedEmail:null,profilePictureUrl:null,remainingAttempts:null,attemptFailed:!1,startedWithoutAttemptsRemaining:!1,isDeletingRecycledPhoneNumber:!1,deletingRecycledPhoneFailed:!1}},text:{},urls:{redirect_url:'/'},form_urls:{auth_flows:'/v2/auth_flows'},channel_options:{},phone_countries:[],default_country:n.default.country(),errorMessage:'',abandonLoginEmail:'',contextualLoginMethod:void 0,currentLoginPaneView:u.LoginPaneViews.DEFAULT,loginPaneViewHistory:[],currentCombineAuthPaneView:u.CombineAuthPaneViews.ALL_LOGIN_OPTIONS,ignoreSuggestedLoginUsers:!1,initialCombineAuthPaneView:u.CombineAuthPaneViews.ALL_LOGIN_OPTIONS,isSSO:!1,skipToEmailSignupForm:!1,suggested_login_users:[],suggestedAuthType:'',suggestedLoginEnabled:!1,suggestedLogin:{currentUserIndex:0,currentLoginMethod:void 0,currentLoginView:void 0},toggles:{},currentAuthTypeInternalStateSessionId:void 0,currentSignUpLoginMethodInternalStateSessionId:void 0,currentSignUpLoginMethod:void 0,isEmbeddedApp:!1,isModalFocused:!1,isOtpCodeExpired:!1});function T(n,o){return null!=n&&n.show_wechat_button||o?u.CombineAuthPaneViews.ALL_LOGIN_OPTIONS:u.CombineAuthPaneViews.OTP_PHONE_LOGIN}const h=n=>n?u.LoginMethods.EMAIL_LOGIN:u.LoginMethods.PHONE_LOGIN,D=n=>n.loginPaneViewHistory[n.loginPaneViewHistory.length-1]||u.LoginPaneViews.DEFAULT,P=(n,o)=>((n,o)=>!(o===O.UNIFIED_NEW_ACCOUNT_FLOW_STARTED&&n.currentLoginPaneView===u.LoginPaneViews.OTP_PHONE_VERIFY_CODE))(n,o)?[...n.loginPaneViewHistory,n.currentLoginPaneView]:[...n.loginPaneViewHistory],V=n=>n.loginPaneViewHistory.slice(0,-1);function f(n,o=!1){const t=(0,s.shouldSeeSuggestedLogin)(n,o);let _=u.LoginPaneViews.DEFAULT;return t&&(_=u.LoginPaneViews.SUGGESTED_LOGIN),{suggestedLoginEnabled:t,currentLoginPaneView:_,suggestedLoginStates:t?{currentUserIndex:0,currentLoginMethod:(0,I.getInitialSuggestedLoginMethod)(n),currentLoginView:1===n.length?u.SuggestedLoginViews.single:u.SuggestedLoginViews.multiple}:{}}}function R(n,{payload:o,type:s,contextualLoginMethod:_,suggestedLoginMethod:l,suggestedLoginEnabled:c},N=!1){switch(s){case O.LOGIN_CTA_CLICKED:case O.SHOW_LOGIN_METHOD:return{...n,currentLoginMethod:o};case O.VALID_EMAIL_LOGIN_FORM_SUBMITTED:case O.VALID_PHONE_NUMBER_LOGIN_FORM_SUBMITTED:case O.VALID_UNIFIED_FORM_SUBMITTED:return{...n,isSubmitting:!0};case O.OTP_LOGIN_MODAL_TRIGGERED:case O.APRISA_LOGIN_MODAL_TRIGGERED:case C.ERROR_MESSAGE_RECEIVED:case C.USER_AUTH_SUCCEEDED:case O.AUTH_FLOW_CALL_COMPLETE:case C.COMBINE_AUTH_CTA_CLICKED:case O.CONTEXTUAL_LOGIN_MORE_OPTIONS_CLICKED:return{...n,isSubmitting:!1};case O.INVALID_PHONE_NUMBER_LOGIN_FORM_SUBMITTED:case O.INVALID_EMAIL_LOGIN_FORM_SUBMITTED:case O.INVALID_UNIFIED_EMAIL_LOGIN_FORM_SUBMITTED:case O.INVALID_CHINA_MANDATORY_TOS:return{...n,validationErrors:{...n.validationErrors,...o.validationErrors},focusFirstValidationError:!0,clearErrorOnNextInput:(0,I.setValues)(n.clearErrorOnNextInput,!0)};case O.EMAIL_VERIFICATION_MODAL_TRIGGERED:return{...n,emailConfirmation:{isRequestingAnonymizedEmail:!0,isVerifyingConfirmationEmail:!1,anonymizedEmail:null,profilePictureUrl:null,remainingAttempts:null},isSubmitting:!1};case O.BACK_TO_EMAIL_VERIFICATION_MODAL:return{...n,currentValues:{...n.currentValues,confirmationEmail:''}};case O.EMAIL_VERIFICATION_ANONYMIZED_EMAIL_RECEIVED:return{...n,emailConfirmation:{...n.emailConfirmation,...o,isRequestingAnonymizedEmail:!1}};case O.EMAIL_VERIFICATION_SUBMITTED:return{...n,emailConfirmation:{...n.emailConfirmation,...o,isVerifyingConfirmationEmail:!0}};case O.EMAIL_VERIFICATION_ATTEMPTS_UPDATED:return{...n,emailConfirmation:{...n.emailConfirmation,...o,isVerifyingConfirmationEmail:!1,attemptFailed:!0}};case O.RECYCLED_PHONE_NUMBER_DELETION_SUBMITTED:return{...n,emailConfirmation:{...n.emailConfirmation,isDeletingRecycledPhoneNumber:!0}};case O.RECYCLED_PHONE_NUMBER_DELETION_SUCCESS:case O.RECYCLED_PHONE_NUMBER_DELETION_FAILURE:return{...n,emailConfirmation:{...n.emailConfirmation,isDeletingRecycledPhoneNumber:!1}};case O.LOGIN_FIELD_CHANGED:return o.fieldName===L.LoginFields.verificationCode&&o.newValue.length>6?n:(0,I.formFieldChanged)(n,o.fieldName,o.newValue);case O.LOGIN_DATA_RECEIVED:{const{default_country:s,phone_countries:c,suggested_login_users:O,user:C}=o,M={...(0,I.getFormStateWithDefaultPhoneCountryCode)(n,L.LoginFields.countryCode,c,s),currentLoginMethod:h(N)};if(l===u.SuggestedLoginMethods.email){const n=O[0];return{...(0,I.formFieldChanged)(M,L.LoginFields.email,n.email),currentLoginMethod:u.LoginMethods.EMAIL_LOGIN}}let P=M;if((0,I.isNotUsingChinaLoginMethod)(_)&&(0,I.userHasEmail)(C)){const n=(null==C?void 0:C.user_email)||(null==C?void 0:C.email_from_session);P=(0,I.formFieldChanged)(P,L.LoginFields.email,n)}const V=(n="",o="")=>{let t=M;return t=(0,I.formFieldChanged)(t,L.LoginFields.countryCode,n),t=(0,I.formFieldChanged)(t,L.LoginFields.phoneNumber,o),t};if((0,I.isNotUsingChinaLoginMethod)(_)&&(0,I.userHasPhone)(C)){var S,A,T,D;return V((null==C||null===(S=C.user_phone_number)||void 0===S?void 0:S.country)||(null==C||null===(A=C.phone_number_from_session)||void 0===A?void 0:A.country),(null==C||null===(T=C.user_phone_number)||void 0===T?void 0:T.number)||(null==C||null===(D=C.phone_number_from_session)||void 0===D?void 0:D.number))}if(l===u.SuggestedLoginMethods.otp_phone){const n=O[0],[o,t]=(0,I.suggestedLoginSplitPhone)(n.phone_number);return V(o,t)}if((0,I.isNotUsingChinaLoginMethod)(_)&&(0,I.userHasEmail)(C))return P;if(_===u.ContextualLoginMethods.phone){let n=M;if(C&&C.phone_number_from_session&&(0,t.shouldSeeChinaContextualLogin)()){const o=(0,I.formFieldChanged)(M,L.LoginFields.phoneNumber,C.phone_number_from_session.number);n=(0,I.formFieldChanged)(o,L.LoginFields.countryCode,C.phone_number_from_session.country)}return{...n,currentLoginMethod:u.LoginMethods.PHONE_LOGIN}}return _===u.ContextualLoginMethods.email?{...M,currentLoginMethod:u.LoginMethods.EMAIL_LOGIN}:(0,E.isInChinaFlow)()?{...M,currentLoginMethod:u.LoginMethods.OTP_PHONE_LOGIN}:M}case C.SHOW_EMAIL_SUGGESTED_LOGIN_VIEW:return(0,I.formFieldChanged)(n,L.LoginFields.email,o.email);case C.SHOW_PHONE_SUGGESTED_LOGIN_VIEW:{const t=(0,I.formFieldChanged)(n,L.LoginFields.countryCode,o.countryCode);return(0,I.formFieldChanged)(t,L.LoginFields.phoneNumber,o.phoneNumber)}case C.RESET_EMAIL_LOGIN_FORM_VALUES:{const o=(0,I.formFieldChanged)(n,L.LoginFields.email,'');return(0,I.formFieldChanged)(o,L.LoginFields.password,'')}case C.RESET_PHONE_FORM_VALUES:return(0,I.formFieldChanged)(n,L.LoginFields.verificationCode,'');case C.SET_CURRENT_LOGIN_EMAIL:return(0,I.formFieldChanged)(n,L.LoginFields.email,o);case C.RESET_VALIDATION_ERROR_FOCUS:return{...n,focusFirstValidationError:!1};case C.MODAL_CLOSED:return c?{...n}:{...n,currentValues:{...M,countryCode:n.currentValues.countryCode||M.countryCode},currentLoginMethod:h(N)};case O.HAD_PASSWORD_CHANGED:return{...n,...(0,I.formFieldChanged)(n,L.LoginFields.password,''),hadPassword:o.hadPassword};case C.SEND_VERIFICATION_CODE_STARTED:return{...(0,I.formFieldChanged)(n,L.LoginFields.verificationCode,''),verificationCodeButtonEnabled:!1,isRequestingVerificationCode:!0,isSubmitting:!0};case C.SEND_VERIFICATION_CODE_SUCCESS:{const{isVerificationCodeResent:t,codeLength:s=4}=o;return{...n,isRequestingVerificationCode:!1,isVerificationCodeResent:t,isSubmitting:!1,codeLength:s}}case C.VERIFICATION_CODE_BUTTON_ENABLED:case C.SEND_VERIFICATION_CODE_FAILED:return{...n,verificationCodeButtonEnabled:!0,isRequestingVerificationCode:!1,isSubmitting:!1};case O.CONTEXTUAL_LOGIN_EMAIL_CLICKED:return{...(0,I.formFieldChanged)(n,L.LoginFields.email,''),currentLoginMethod:u.LoginMethods.EMAIL_LOGIN,loginMethodChanged:!0};case O.CONTINUE_WITH_PHONE_CLICKED:return{...(0,I.formFieldChanged)(n,L.LoginFields.phoneNumber,''),currentLoginMethod:u.LoginMethods.PHONE_LOGIN,loginMethodChanged:!0};default:return n}}const U=(n,o,t,s)=>({...n,form:R(n.form,{...o,phoneCountries:s}),suggestedLogin:{...n.suggestedLogin,currentLoginMethod:t,currentUserIndex:o.payload.currentUserIndex,currentLoginView:u.SuggestedLoginViews.single}})}),"4eea4d",["862e50","f02467","8e3194","6c3eb8","9e7031","b7eb08","b616d2","34f8a0","f42b56","7c1173","a8e56e","0b0cd0","f40bcb","e1dfcf","83da25"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n=T(),S){const{payload:N,type:D}=S;switch(D){case I.SIGNUP_CTA_CLICKED:{const{form:s}=n,{validationErrors:t}=s,{signupView:_,signupMethod:E}=N;return n.toggles&&n.toggles.tos_group===o.TOSGroups.WITH_CHECKBOX&&!n.form.currentValues.tosCheckBox?{...n,form:{...s,showMustCheckTOS:!0}}:{...n,currentSignupPaneView:_,errorMessage:'',errorMessageWithLoginLink:!1,form:{...s,signupMethod:E,validationErrors:{...t,password:[]}}}}case c.SEND_VERIFICATION_CODE_STARTED:{const{form:s}=n;return{...n,form:{...s,verificationCodeButtonEnabled:!1,isRequestingVerificationCode:!0},errorMessage:'',errorMessageWithLoginLink:!1}}case c.VERIFICATION_CODE_BUTTON_ENABLED:{const{form:s}=n;return{...n,form:{...s,verificationCodeButtonEnabled:!0},errorMessage:'',errorMessageWithLoginLink:!1}}case I.SIGNUP_PHONE_OTP_MORE_OPTIONS_CLICKED:case I.BACK_TO_OTP_PHONE_VERIFY_CODE_CLICKED:return{...n,currentSignupPaneView:S.payload};case c.SEND_VERIFICATION_CODE_SUCCESS:{const{form:s}=n,{deliveryMethod:t,isVerificationCodeResent:_,codeLength:E=4}=N;return{...n,otpDeliveryMethod:t,form:{...s,isRequestingVerificationCode:!1,isVerificationCodeResent:_,codeLength:E},currentSignupPaneView:o.CombineAuthPaneViews.OTP_PHONE_VERIFY_CODE}}case c.SEND_VERIFICATION_CODE_FAILED:{const{form:s}=n;return{...n,form:{...s,verificationCodeButtonEnabled:!0,isRequestingVerificationCode:!1},errorMessage:N.message,errorMessageWithLoginLink:Object.values(o.PhoneSignupErrorStatuses).includes(N.status)}}case c.ERROR_MESSAGE_RECEIVED:return N.pane===o.Panes.SIGNUP?{...n,errorMessage:N.message,form:A(n.form,S),mowebEmailFlow:C(n.mowebEmailFlow,S)}:n;case I.SIGNUP_DATA_RECEIVED:{const{form:s,skipToEmailSignupForm:t,toggles:o}=n,_=A(s,S),E=O(N.channel_options,t),u={};return{...n,...N,form:_,currentSignupPaneView:E,toggles:{...o,...N.toggles,...u}}}case c.SOCIAL_SIGNUP_DATA_RECEIVED:{const s=A(n.form,S);return{...n,form:s,currentSignupPaneView:o.SignupPaneViews.EMAIL_SIGNUP}}case I.SETUP_SIGNUP_PANE_VIEW:return{...n,currentSignupPaneView:N,form:A(n.form,S),errorMessage:(0,t.isGlobalPhoneLoginEnabled)()?'':n.errorMessage};case c.RESET_VALIDATION_ERROR_FOCUS:case I.SIGNUP_FIELD_CHANGED:case I.SOCIAL_SIGNUP_CLICKED_WITHOUT_TOS:case I.INVALID_EMAIL_SIGNUP_FORM_SUBMITTED:case I.INVALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED:case I.UNDERAGE_USER_SIGNUP_MODAL_TRIGGERED:case I.VALID_EMAIL_SIGNUP_FORM_SUBMITTED:case I.VALID_SOCIAL_SIGNUP_FORM_SUBMITTED:case I.VALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED:case l.VALID_ACCOUNT_INFO_SUBMITTED:case I.GEETEST_VERIFICATION_SUCCEEDED:case l.GEETEST_WILL_BE_MOUNTED:case I.GEETEST_WILL_BE_UNMOUNTED:case c.USER_AUTH_SUCCEEDED:case I.BIRTHDATE_VALIDATION_CHANGED:case I.PASSWORD_VALIDATION_CHANGED:case c.RESET_PHONE_FORM_VALUES:case c.SET_IS_VALIDATING_EMAIL:case c.SET_IS_NEW_EMAIL_VALIDATED:return{...n,form:A(n.form,S),errorMessage:''};case I.PROFILE_INFO_STEP_TRIGGERED:return{...n,currentSignupFormStep:o.SignupFormSteps.PROFILE_INFO,form:A(n.form,S)};case l.INVALID_PASSWORD_SUBMITTED:return{...n,currentSignupFormStep:o.SignupFormSteps.UPDATE_PASSWORD};case c.MODAL_CLOSED:{const{channel_options:u,currentSignupPaneView:l,default_country:I,errorMessage:c,form:N,phone_countries:C,skipToEmailSignupForm:D}=n,P=(0,t.isGlobalPhoneLoginEnabled)(),p=O(u,D)===o.SignupPaneViews.ALL_SIGNUP_OPTIONS,L=l===o.SignupPaneViews.UNIFIED_SIGNUP,f=(0,s.isInChinaFlow)()&&p||L||P&&!D;return{...n,form:A(P?(0,E.getFormStateWithDefaultPhoneCountryCode)(T().form,_.SignupFields.countryCode,C,I):N,S),currentSignupFormStep:o.SignupFormSteps.ACCOUNT_INFO,currentSignupPaneView:f?o.SignupPaneViews.ALL_SIGNUP_OPTIONS:l,errorMessage:P?'':c}}case c.SETUP_DATA_RECEIVED:{var P,p;let s={...n,isSSO:null!==(P=N.isSSO)&&void 0!==P?P:n.isSSO,skipToEmailSignupForm:null!==(p=N.skipToEmailSignupForm)&&void 0!==p?p:n.skipToEmailSignupForm};return N.skipToEmailSignupForm&&(s={...s,form:{...s.form,signupMethod:o.SignupMethods.EMAIL_SIGNUP},currentSignupPaneView:o.SignupPaneViews.EMAIL_SIGNUP}),null!=N.signupFormValues&&(s={...s,form:{...s.form,currentValues:{...s.form.currentValues,...N.signupFormValues}}}),null!=N.disabledSignupFields&&(s={...s,form:{...s.form,disabledFields:[...new Set([...s.form.disabledFields,...N.disabledSignupFields])]}}),null!=N.signupToggles&&(s={...s,toggles:{...s.toggles,...N.signupToggles}}),s}case c.SHOW_SIGNUP_PANE_UNIFIED_VIEW:return{...n,currentSignupPaneView:o.SignupPaneViews.UNIFIED_SIGNUP};case c.SWITCH_TO_MODAL_TRIGGERED:{const{currentSignupPaneView:s,skipToEmailSignupForm:_,form:E}=n,S={form:{...E,currentValues:{...E.currentValues},isRequestingVerificationCode:!1,isSubmitting:!1}};return _?{...n,...S,currentSignupPaneView:o.SignupPaneViews.EMAIL_SIGNUP}:N!==o.Modals.LOGIN_MODAL||s!==o.SignupPaneViews.UNIFIED_SIGNUP&&!(0,t.isGlobalPhoneLoginEnabled)()?{...n,...S}:{...n,...S,currentSignupPaneView:o.SignupPaneViews.ALL_SIGNUP_OPTIONS}}case u.AUTH_FLOW_CALL_COMPLETE:case c.SET_CURRENT_SIGNUP_EMAIL:case u.UNIFIED_EMAIL_NEW_ACCOUNT:case u.UNIFIED_PHONE_NEW_ACCOUNT:return{...n,form:A(n.form,S)};case l.SET_PHONE_COUNTRIES:{const s=(0,E.getDefaultCountryCode)(N,n.default_country),t=(0,E.formFieldChanged)(n.form,_.SignupFields.countryCode,s);return{...n,phone_countries:N,form:t}}case c.SET_IS_SSO:return{...n,isSSO:N};case I.OPENED_COLLECTION_AND_USE_OF_INFORMATION_TOS_MODAL:return{...n,isCollectionOfPersonalInformationTOSModalOpen:!0};case I.CLOSED_COLLECTION_AND_USE_OF_INFORMATION_TOS_MODAL:return{...n,isCollectionOfPersonalInformationTOSModalOpen:!1};case I.OPENED_OVERSEAS_TRANSFER_OF_PERSONAL_DATA_TOS_MODAL:return{...n,isOverseasTransferOfPersonalDataTOSModalOpen:!0};case I.CLOSED_OVERSEAS_TRANSFER_OF_PERSONAL_DATA_TOS_MODAL:return{...n,isOverseasTransferOfPersonalDataTOSModalOpen:!1};case I.OPENED_MARKETING_EMAILS_TOS_MODAL:return{...n,isMarketingEmailsTOSModalOpen:!0};case I.CLOSED_MARKETING_EMAILS_TOS_MODAL:return{...n,isMarketingEmailsTOSModalOpen:!1};default:return n}};var n=babelHelpers.interopRequireDefault(r(d[0])),s=r(d[1]),t=r(d[2]),o=r(d[3]),_=r(d[4]),E=r(d[5]),S=r(d[6]),u=r(d[7]),l=r(d[8]),I=r(d[9]),c=r(d[10]);function O(n,t){if(t)return o.SignupPaneViews.EMAIL_SIGNUP;if(!n)return o.SignupPaneViews.ALL_SIGNUP_OPTIONS;const{show_wechat_button:_,show_alipay_button:E}=n;if((0,s.isInChinaFlow)()){if((0,S.isWechatBrowser)()&&_)return o.SignupPaneViews.ALL_SIGNUP_OPTIONS;if((0,S.isAlipayAppBrowser)()&&E)return o.SignupPaneViews.ALL_SIGNUP_OPTIONS;if(!_&&!E)return o.SignupPaneViews.PHONE_SIGNUP}return o.SignupPaneViews.ALL_SIGNUP_OPTIONS}const N={email:'',phoneNumber:'',countryCode:'1US',firstName:'',lastName:'',password:'',passwordConfirm:'',receivePromotionalEmail:'KR'!==n.default.country(),receivePromotionalSMS:'KR'!==n.default.country(),verificationCode:'',redirectUrl:'',birthdateDay:'',birthdateMonth:'',birthdateYear:'',tosCheckBox:!1,collectionOfPersonalInformation:!1,overseasTransferOfPersonalData:!1,geetestChallenge:'',geetestValidate:'',geetestSeccode:''},T=s=>({channel_options:{},currentSignupPaneView:o.SignupPaneViews.ALL_SIGNUP_OPTIONS,currentSignupFormStep:o.SignupFormSteps.ACCOUNT_INFO,form:{showMustCheckTOS:!1,currentValues:N,disabledFields:[],readOnlyFields:[],verificationCodeButtonEnabled:!0,validationErrors:{email:[],phoneNumber:[],firstName:[],lastName:[],password:[],passwordConfirm:[],birthdateYear:[],birthdateDay:[],birthdateMonth:[],verificationCode:[],geetestChallenge:[],geetestValidate:[],geetestSeccode:[]},focusFirstValidationError:!1,clearErrorOnNextInput:{email:!1,phoneNumber:!1,firstName:!1,lastName:!1,password:!1,passwordConfirm:!1,birthdateYear:!1,birthdateDay:!1,birthdateMonth:!1,verificationCode:!1,geetestChallenge:!1,geetestValidate:!1,geetestSeccode:!1},isSubmitting:!1,isRequestingVerificationCode:!1,isVerificationCodeResent:!1,signupMethod:void 0,codeLength:4,isValidatingEmail:!1,isNewEmailValidated:!1},mowebEmailFlow:{view:o.MowebEmailViews.EMAIL_AND_PASSWORD,birthdateState:o.BirthdateValidationStates.OVER_EIGHTEEN,firstNameValid:!0,lastNameValid:!0,emailValid:!1,passwordValid:!1},phone_countries:[],default_country:n.default.country(),errorMessage:'',errorMessageWithLoginLink:!1,isSSO:!1,skipToEmailSignupForm:!1,toggles:{},params:{},urls:{create_user_url:''},isCollectionOfPersonalInformationTOSModalOpen:!1,isOverseasTransferOfPersonalDataTOSModalOpen:!1,isMarketingEmailsTOSModalOpen:!1,...s});function A(n,{payload:s,type:t}){switch(t){case I.SIGNUP_FIELD_CHANGED:return s.fieldName===_.SignupFields.verificationCode&&s.newValue.length>6?n:(0,E.formFieldChanged)(n,s.fieldName,s.newValue);case I.SIGNUP_DATA_RECEIVED:{const{default_country:t,phone_countries:o,user:S}=s;let u=n;if(u=(0,E.getFormStateWithDefaultPhoneCountryCode)(n,_.SignupFields.countryCode,o,t),S&&S.user_fields&&S.user_fields.email){const n=S.user_fields.email;return(0,E.formFieldChanged)(u,_.SignupFields.email,n)}return S&&S.user_fields&&(S.user_fields.first_name&&(u=(0,E.formFieldChanged)(u,_.SignupFields.firstName,S.user_fields.first_name)),S.user_fields.last_name&&(u=(0,E.formFieldChanged)(u,_.SignupFields.lastName,S.user_fields.last_name))),u}case I.UNDERAGE_USER_SIGNUP_MODAL_TRIGGERED:case c.ERROR_MESSAGE_RECEIVED:case I.SETUP_SIGNUP_PANE_VIEW:return{...n,isSubmitting:!1};case I.VALID_EMAIL_SIGNUP_FORM_SUBMITTED:case I.VALID_SOCIAL_SIGNUP_FORM_SUBMITTED:case I.VALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED:case l.VALID_ACCOUNT_INFO_SUBMITTED:return{...n,isSubmitting:!0};case I.INVALID_EMAIL_SIGNUP_FORM_SUBMITTED:case I.INVALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED:case I.BIRTHDATE_VALIDATION_CHANGED:case I.PASSWORD_VALIDATION_CHANGED:return{...n,validationErrors:s.validationErrors,focusFirstValidationError:!0,clearErrorOnNextInput:(0,E.setValues)(n.clearErrorOnNextInput,!0)};case I.SOCIAL_SIGNUP_CLICKED_WITHOUT_TOS:return{...n,showMustCheckTOS:!0};case I.GEETEST_VERIFICATION_SUCCEEDED:{const{currentValues:t}=n;return{...n,currentValues:{...t,...s},clearErrorOnNextInput:{...n.clearErrorOnNextInput,geetestChallenge:!1,geetestValidate:!1,geetestSeccode:!1},validationErrors:{...n.validationErrors,geetestChallenge:[],geetestValidate:[],geetestSeccode:[]}}}case l.GEETEST_WILL_BE_MOUNTED:case I.GEETEST_WILL_BE_UNMOUNTED:{const{currentValues:s}=n;return{...n,currentValues:{...s,geetestSeccode:'',geetestValidate:'',geetestChallenge:''}}}case c.USER_AUTH_SUCCEEDED:case I.PROFILE_INFO_STEP_TRIGGERED:return{...n,isSubmitting:!1};case c.SET_CURRENT_SIGNUP_EMAIL:return(0,E.formFieldChanged)(n,_.SignupFields.email,s);case c.RESET_VALIDATION_ERROR_FOCUS:return{...n,focusFirstValidationError:!1};case c.RESET_PHONE_FORM_VALUES:return(0,E.formFieldChanged)(n,_.SignupFields.verificationCode,'');case c.SOCIAL_SIGNUP_DATA_RECEIVED:{const{currentValues:t}=s,{currentValues:_}=n,E=t.email?['email']:[];return{...n,signupMethod:o.SignupMethods.SOCIAL_SIGNUP,currentValues:{..._,...t},readOnlyFields:E}}case u.UNIFIED_EMAIL_NEW_ACCOUNT:return{...n,currentValues:{...N,countryCode:n.currentValues.countryCode||N.countryCode},signupMethod:o.SignupMethods.EMAIL_SIGNUP};case u.UNIFIED_PHONE_NEW_ACCOUNT:return{...n,currentValues:N,signupMethod:o.SignupMethods.PHONE_SIGNUP};case c.SET_IS_VALIDATING_EMAIL:return{...n,isValidatingEmail:s};case c.SET_IS_NEW_EMAIL_VALIDATED:return{...n,isNewEmailValidated:s};case u.AUTH_FLOW_CALL_COMPLETE:return{...n,isValidatingEmail:!1,isNewEmailValidated:!1};default:return n}}function C(n,{type:s}){switch(s){case c.ERROR_MESSAGE_RECEIVED:return{...n,view:o.MowebEmailViews.EMAIL_AND_PASSWORD};default:return n}}}),"5f1ff7",["862e50","b7eb08","7c1173","b616d2","76b333","f42b56","e9b7bf","0b0cd0","f40bcb","8a12e4","e1dfcf"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LOGIN_ADMIN_FORCE_NEW_STATE=void 0;e.LOGIN_ADMIN_FORCE_NEW_STATE='airbnb/auth/LOGIN_ADMIN_FORCE_NEW_STATE'}),"83da25",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deliverChinaContextualLogin=function(){if((0,n.default)().china_contextual_login)return!0;return(0,o.isInChinaFlow)()},e.isSupportedChinaContextualLoginMethod=function(n){return[t.ContextualLoginMethods.email,t.ContextualLoginMethods.phone,t.ContextualLoginMethods.weibo,t.ContextualLoginMethods.alipay,t.ContextualLoginMethods.wechat].includes(n)},e.shouldSeeChinaContextualLogin=function(){if((0,n.default)().china_contextual_login)return!0;return(0,o.isInChinaFlow)()};var n=babelHelpers.interopRequireDefault(r(d[0])),t=r(d[1]),o=r(d[2])}),"8e3194",["a7c4ef","b616d2","b7eb08"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allSignupOptionsCTAClicked=function(){return(t,n)=>{const o=n().signup.currentSignupPaneView,u=l.SignupPaneViewsForLogging.ALL_SIGNUP_OPTIONS;(0,s.trackSignupLoginMethodChange)(l.SignupPaneViewsForLogging[o],u,l.ModalTypes.MODAL_TYPE_SIGNUP,{reactified:1}),t(D(l.SignupPaneViews.ALL_SIGNUP_OPTIONS))}},e.backToSignupPhoneOTPVerifyClicked=function(){return{type:P.BACK_TO_OTP_PHONE_VERIFY_CODE_CLICKED,payload:l.SignupPaneViews.OTP_PHONE_VERIFY_CODE}},e.closedCollectionOfInformationModal=function(){return t=>{t({type:P.CLOSED_COLLECTION_AND_USE_OF_INFORMATION_TOS_MODAL})}},e.closedMarketingEmailsModal=function(){return t=>{t({type:P.CLOSED_MARKETING_EMAILS_TOS_MODAL})}},e.closedOverseasTransferOfPersonalDataModal=function(){return t=>{t({type:P.CLOSED_OVERSEAS_TRANSFER_OF_PERSONAL_DATA_TOS_MODAL})}},e.geetestVerificationSucceeded=function({geetestChallenge:t,geetestValidate:n,geetestSeccode:o}){return{type:P.GEETEST_VERIFICATION_SUCCEEDED,payload:{geetestChallenge:t,geetestValidate:n,geetestSeccode:o}}},e.geetestWillBeUnmounted=function(){return{type:P.GEETEST_WILL_BE_UNMOUNTED}},e.invalidEmailSignupFormSubmitted=b,e.invalidPhoneSignupFormSubmitted=y,e.invalidSocialSignupFormSubmitted=L,e.openedCollectionOfInformationModal=function(){return t=>{t({type:P.OPENED_COLLECTION_AND_USE_OF_INFORMATION_TOS_MODAL})}},e.openedMarketingEmailsModal=function(){return t=>{t({type:P.OPENED_MARKETING_EMAILS_TOS_MODAL})}},e.openedOverseasTransferOfPersonalDataModal=function(){return t=>{t({type:P.OPENED_OVERSEAS_TRANSFER_OF_PERSONAL_DATA_TOS_MODAL})}},e.signupBirthdateChanged=function(t,n){return(o,s)=>{const{signup:{form:{currentValues:l}}}=s(),{birthdateYear:p,birthdateMonth:_,birthdateDay:h}=l,{year:c,month:N,day:E}=t;c!==p&&o(M(u.SignupFields.birthdateYear,c||'')),N!==_&&o(M(u.SignupFields.birthdateMonth,N||'')),E!==h&&o(M(u.SignupFields.birthdateDay,E||'')),n&&c&&c.length>=4&&o({type:P.BIRTHDATE_VALIDATION_CHANGED,payload:{validationErrors:(0,S.getBirthdateValidationErrors)(c||'',N||'',E||'')}})}},e.signupCollectionOfPersonalInformationCheckBoxChanged=function(t){return M(u.SignupFields.collectionOfPersonalInformation,t)},e.signupCountryCodeChanged=function(t){const n=`${t.prefix}${t.code}`;return M(u.SignupFields.countryCode,n)},e.signupEmailChanged=function(t=""){return M(u.SignupFields.email,t)},e.signupFieldChanged=M,e.signupFirstNameChanged=function(t=""){return M(u.SignupFields.firstName,t)},e.signupFormSubmitted=function(...u){return(p,_)=>{const{authModals:{setupData:{authTriggerType:T}},signup:{form:{isSubmitting:O,signupMethod:f}}}=_();if(!O)return((t,o)=>(0,N.isGlobalPhoneLoginEnabled)()&&t!==n.AuthTriggerTypes.LUXURY_OWNER_ONBOARDING&&t!==n.AuthTriggerTypes.PRO_SIGN_UP&&o!==l.SignupMethods.EMAIL_SIGNUP&&o!==l.SignupMethods.SOCIAL_SIGNUP)(T,f)?p((t,n)=>{const{signup:{form:{currentValues:o}}}=n(),u=c.SignupFormNames.GLOBAL_PHONE_SIGNUP_FORM_NO_PASSWORD,s=(0,E.renameToSnakeCaseFormFields)(o),l=(0,F.validateForm)(u,s),p=(0,E.renameToCamelCaseFormFields)(l);if((0,S.areObjectValuesEmpty)(p))t(C({isGlobal:!0}));else{const n=t=>`user[${t}]`;t(y({validationErrorsToLog:(0,F.getValidationErrorsToLog)(l,n),validationErrorsToDispatch:p}))}}):f===l.SignupMethods.SOCIAL_SIGNUP?p((t,n)=>{const{signup:{form:{currentValues:u},urls:{create_user_url:p}},authModals:{setupData:{authTriggerType:_}}}=n(),T=(0,N.chinaMainlandGuestEnabled)(),O=(0,E.renameToSnakeCaseFormFields)(u,T);let f=c.SignupFormNames.SOCIAL_SIGNUP_FORM;u.oauth2Service===l.SocialAuthMethods.NAVER?f=c.SignupFormNames.NAVER_SOCIAL_SIGNUP_FORM:T&&(f=c.SignupFormNames.SOCIAL_SIGNUP_WITH_OTP_PHONE_FORM);const M=(0,F.validateForm)(f,O),A=(0,E.renameToCamelCaseFormFields)(M,T);if((0,S.areObjectValuesEmpty)(A))t((function(t,n,u){return p=>{const S=(0,h.getProvider)(t),_={pane:l.Panes.SIGNUP,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:(0,o.getJitneyAuthMethodFromProvider)(S),authTriggerType:u,useContentTypeJSON:!0};(0,s.trackValidAuthFormSubmitted)({inModal:!0,subEventName:"social_signup_attempt_"+t.oauth2Service,shouldQueue:!1,rememberMe:!1,reactified:1,..._}),p({type:P.VALID_SOCIAL_SIGNUP_FORM_SUBMITTED});const c=(0,h.getSocialSignupJSONFormData)(t);p((0,I.ajaxSubmitAuthForm)(c,n,_,!1))}})(u,p,_));else{const n=t=>`user[${t}]`;t(L({validationErrorsToLog:(0,F.getValidationErrorsToLog)(M,n),validationErrorsToDispatch:A,signupFormStep:l.SignupFormSteps.ACCOUNT_INFO,oauth2Service:u.oauth2Service||''}))}}):p((function({ignoreBirthdate:n,submitAuthForm:o}={}){return(u,s)=>{const{signup:{form:{currentValues:l}}}=s(),p=(0,N.chinaMainlandGuestEnabled)(),_=p?c.SignupFormNames.EMAIL_SIGNUP_WITH_OTP_PHONE_FORM:c.SignupFormNames.EMAIL_SIGNUP_FORM,h=n?(0,t.default)(l,['birthdateYear','birthdateMonth','birthdateDay']):l,T=(0,E.renameToSnakeCaseFormFields)(h,p),O=(0,F.validateForm)(_,T),I=(0,E.renameToCamelCaseFormFields)(O,p);if((0,S.areObjectValuesEmpty)(I))u(A({submitAuthForm:o}));else{const t=t=>`user[${t}]`;u(b({validationErrorsToLog:(0,F.getValidationErrorsToLog)(O,t),validationErrorsToDispatch:I}))}}})(...u))}},e.signupLastNameChanged=function(t=""){return M(u.SignupFields.lastName,t)},e.signupOverseasTransferOfPersonalDataCheckBoxChanged=function(t){return M(u.SignupFields.overseasTransferOfPersonalData,t)},e.signupPasswordChanged=function(t=""){return M(u.SignupFields.password,t)},e.signupPasswordValidated=function(){return(t,n)=>{var o;const{signup:{form:{currentValues:u}}}=n(),s=(0,F.validateForm)('email_signup',{password:u.password,email:u.email,first_name:u.firstName,last_name:u.lastName,national_number:u.phoneNumber,birthday_year:u.birthdateYear,birthday_month:u.birthdateMonth,birthday_day:u.birthdateDay});(null==s||null===(o=s.password)||void 0===o?void 0:o.length)>0&&t({type:P.PASSWORD_VALIDATION_CHANGED,payload:{validationErrors:s}})}},e.signupPhoneNumberChanged=function(t=""){return M(u.SignupFields.phoneNumber,t)},e.signupReceivePromotionalEmailChanged=function(t){return M(u.SignupFields.receivePromotionalEmail,t)},e.signupReceivePromotionalSMSChanged=function(t){return M(u.SignupFields.receivePromotionalSMS,t)},e.signupVerificationCodeChanged=function(t=""){return M(u.SignupFields.verificationCode,t)},e.signupVerificationCodeRequested=function(){return(0,O.verificationCodeRequested)(T.PhoneOTPWorkFlow.GLOBAL_SIGNUP_LOGIN)},e.signupWithEmailCTAClicked=function(){return(t,n)=>{(0,s.trackSignupWithEmailCTAClicked)({reactified:1}),t({type:f.HIDE_PDP_LISTING});const{signup:o}=n(),u=o.currentSignupPaneView,p=l.SignupPaneViewsForLogging.EMAIL_SIGNUP,S=l.SignupPaneViews.EMAIL_SIGNUP,_=l.SignupMethods.EMAIL_SIGNUP;(0,s.trackSignupLoginMethodChange)(l.SignupPaneViewsForLogging[u],p,l.ModalTypes.MODAL_TYPE_SIGNUP,{reactified:1}),t(D(S,_)),t({type:f.COMBINE_AUTH_CTA_CLICKED,payload:l.CombineAuthPaneViews.EMAIL_SIGNUP})}},e.signupWithPhoneCTAClicked=function(){return(t,n)=>{const o=n().signup.currentSignupPaneView,u=l.SignupPaneViewsForLogging.PHONE_SIGNUP;(0,s.trackSignupLoginMethodChange)(l.SignupPaneViewsForLogging[o],u,l.ModalTypes.MODAL_TYPE_SIGNUP,{reactified:1}),(0,s.trackSignupWithPhoneCTAClicked)({reactified:1}),t(D(l.SignupPaneViews.PHONE_SIGNUP))}},e.socialSignupClickedWithoutTOS=function(){return{type:P.SOCIAL_SIGNUP_CLICKED_WITHOUT_TOS}},e.tosCheckBoxChanged=function(t){return M(u.SignupFields.tosCheckBox,t)},e.validEmailSignupFormSubmitted=A,e.validPhoneNumberSignupFormSubmitted=C;var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]),o=r(d[2]),u=r(d[3]),s=r(d[4]),l=r(d[5]),p=r(d[6]),S=r(d[7]),_=r(d[8]),h=r(d[9]),c=r(d[10]),N=r(d[11]),E=r(d[12]),F=r(d[13]),T=r(d[14]),O=r(d[15]),I=r(d[16]),P=r(d[17]),f=r(d[18]);function M(t,n,u={}){return(0,s.logUniqueFieldInteract)(l.ModalTypes.MODAL_TYPE_SIGNUP,t,{flow:o.Flow.Signup,step:o.Step.Signup,method:u.method,...u}),{type:P.SIGNUP_FIELD_CHANGED,payload:{fieldName:t,newValue:n}}}function A({submitAuthForm:t}={}){return(n,u)=>{const{authModals:{setupData:{authTriggerType:S}},signup:{toggles:{show_geetest_captcha:h},urls:{create_user_url:c},form:{currentValues:{email:N,firstName:E,lastName:F,receivePromotionalEmail:T,password:O,birthdateDay:f,birthdateMonth:M,birthdateYear:A,geetestChallenge:C,geetestValidate:L,geetestSeccode:b,phoneNumber:y,countryCode:D,verificationCode:v}}}}=u(),U={pane:l.Panes.SIGNUP,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:o.AuthMethod.Email,authTriggerType:S,useContentTypeJSON:!0};(0,s.trackValidAuthFormSubmitted)({inModal:!0,subEventName:'signup_attempt_email',shouldQueue:!1,rememberMe:!1,reactified:1,...U}),n({type:P.VALID_EMAIL_SIGNUP_FORM_SUBMITTED});const V={user:{[p.SignupFieldNames.email]:N,[p.SignupFieldNames.firstName]:E,[p.SignupFieldNames.lastName]:F,[p.SignupFieldNames.password]:O,[p.SignupFieldNames.birthdateDay]:f,[p.SignupFieldNames.birthdateMonth]:M,[p.SignupFieldNames.birthdateYear]:A,...y&&{[p.SignupFieldNames.phoneNumber]:`${parseInt(D,10)}${y}`},...v&&{[p.SignupFieldNames.verificationCode]:v}},user_profile_info:{[p.SignupFieldNames.receivePromotionalEmail]:T?1:0},...h&&{[p.SignupFieldNames.geetestChallenge]:C,[p.SignupFieldNames.geetestValidate]:L,[p.SignupFieldNames.geetestSeccode]:b},from:_.SubmitFrom.EMAIL_SIGNUP,auth_trigger_type:S};n(t?t(V,c,U):(0,I.ajaxSubmitAuthForm)(V,c,U))}}function C({isGlobal:t}={}){return(n,u)=>{const{authModals:{setupData:{authTriggerType:S}},signup:{urls:{create_user_url:h},form:{currentValues:{birthdateDay:c,birthdateMonth:N,birthdateYear:E,countryCode:F="",email:T,firstName:O,lastName:f,password:M,phoneNumber:A,receivePromotionalSMS:C,receivePromotionalEmail:L,verificationCode:b}},otpDeliveryMethod:y}}=u(),D={pane:l.Panes.SIGNUP,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:o.AuthMethod.Phone,authTriggerType:S,useContentTypeJSON:!0};(0,s.trackValidAuthFormSubmitted)({inModal:!0,subEventName:'signup_attempt_phone',shouldQueue:!1,rememberMe:!1,reactified:1,...D}),n({type:P.VALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED});const v={user:{[p.SignupFieldNames.email]:t?T:void 0,[p.SignupFieldNames.firstName]:O,[p.SignupFieldNames.lastName]:f,...!t&&{[p.SignupFieldNames.password]:M},[p.SignupFieldNames.birthdateDay]:c,[p.SignupFieldNames.birthdateMonth]:N,[p.SignupFieldNames.birthdateYear]:E,[p.SignupFieldNames.phoneNumber]:`${parseInt(F,10)}${A}`,[p.SignupFieldNames.verificationCode]:b},user_profile_info:{[p.SignupFieldNames.receivePromotionalSMS]:C?1:0,[p.SignupFieldNames.receivePromotionalEmail]:L?1:0},is_global:t||void 0,delivery_method:t?y:void 0,from:_.SubmitFrom.PHONE_SIGNUP};n((0,I.ajaxSubmitAuthForm)(v,h,D))}}function L({validationErrorsToLog:t,validationErrorsToDispatch:n,signupFormStep:u,oauth2Service:l}){return(p,S)=>{const{authModals:{setupData:{authTriggerType:_}}}=S();(0,s.trackInvalidAuthFormSubmitted)({inModal:!0,subEventName:"social_signup_attempt_"+l,rememberMe:!1,validationErrors:t,reactified:1,signupFormStep:u,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:o.AuthMethod.Email,authTriggerType:_}),p({type:P.INVALID_EMAIL_SIGNUP_FORM_SUBMITTED,payload:{validationErrors:n}})}}function b({validationErrorsToLog:t,validationErrorsToDispatch:n,signupFormStep:u}){return(l,p)=>{const{authModals:{setupData:{authTriggerType:S}}}=p();(0,s.trackInvalidAuthFormSubmitted)({inModal:!0,subEventName:'signup_attempt_email',rememberMe:!1,validationErrors:t,reactified:1,signupFormStep:u,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:o.AuthMethod.Email,authTriggerType:S}),l({type:P.INVALID_EMAIL_SIGNUP_FORM_SUBMITTED,payload:{validationErrors:n}})}}function y({validationErrorsToLog:t,validationErrorsToDispatch:n,signupFormStep:u}){return(l,p)=>{const{authModals:{setupData:{authTriggerType:S}}}=p();(0,s.trackInvalidAuthFormSubmitted)({inModal:!0,subEventName:'signup_attempt_phone',rememberMe:!1,validationErrors:t,reactified:1,signupFormStep:u,flow:o.Flow.Signup,step:o.Step.Signup,auth_method:o.AuthMethod.Phone,authTriggerType:S}),l({type:P.INVALID_PHONE_NUMBER_SIGNUP_FORM_SUBMITTED,payload:{validationErrors:n}})}}const D=(t,n)=>({type:P.SIGNUP_CTA_CLICKED,payload:{signupView:t,signupMethod:n}})}),"94864d",["3d4f9e","5eb3f8","3dcead","76b333","226df2","b616d2","b48e39","f42b56","7dcc60","f301c0","b62ba9","7c1173","9f7af8","3c3783","a6102a","084fbc","7c131c","8a12e4","e1dfcf"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),o=babelHelpers.interopRequireWildcard(r(d[1])),s=babelHelpers.interopRequireDefault(r(d[2])),n=r(d[3]);const l=()=>(0,n.jsx)(o.WrappedPlaceholder,{});var h=(h,p=l)=>{class u extends t.default.Component{constructor(t){super(t),this.modalContentLoader=void 0,this.showLoadingStateTimer=void 0,this.state={showLoadingState:!1},this.modalContentLoader=(0,o.normalizeLoader)(t.loader),this.showLoadingStateTimer=null,this.fetchModalContents=this.fetchModalContents.bind(this),this.showModal=this.showModal.bind(this)}componentDidMount(){const{isOpen:t}=this.props;(0,s.default)(h),t&&this.fetchModalContents()}componentDidUpdate({isOpen:t}){const{isOpen:o}=this.props,{showLoadingState:s}=this.state;!t&&o&&!s&&this.fetchModalContents()}componentWillUnmount(){this.showLoadingStateTimer&&clearTimeout(this.showLoadingStateTimer)}fetchModalContents(){this.showLoadingStateTimer=setTimeout(this.showModal,300),this.modalContentLoader().then(this.showModal)}showModal(){this.setState({showLoadingState:!0})}render(){const{loader:t,isOpen:s,contentProps:l={},...u}=this.props,{showLoadingState:c}=this.state;return c?(0,n.jsx)(o.default,{loader:(0,o.normalizeLoader)(h),renderPlaceholder:o.renderNull,loadReady:s,isOpen:s,...u,children:(0,n.jsx)(o.default,{loader:this.modalContentLoader,renderPlaceholder:p,...l})}):null}}return u};e.default=h}),"a0d5f1",["a27fc3","018c3b","5be8e0","14def0"]);
__d((function(g,r,i,a,m,e,d){"use strict";let _;Object.defineProperty(e,"__esModule",{value:!0}),e.SignupFormNames=void 0,e.SignupFormNames=_,(function(_){_.EMAIL_SIGNUP_FORM="email_signup",_.EMAIL_SIGNUP_WITH_CAPTCHA_FORM="email_signup_with_captcha",_.PHONE_SIGNUP_FORM="phone_signup",_.GLOBAL_PHONE_SIGNUP_FORM="global_phone_signup",_.GLOBAL_PHONE_SIGNUP_FORM_NO_PASSWORD="global_phone_signup_no_password",_.CHINA_PHONE_NUMBER_SIGNUP_FORM="china_phone_signup",_.CHINA_EMAIL_ACCOUNT_STEP_SIGNUP_FORM="china_email_account_step_signup",_.CHINA_EMAIL_ACCOUNT_STEP_SIGNUP_FORM_WITHOUT_CAPTCHA="china_email_account_step_signup_without_captcha",_.CHINA_PHONE_ACCOUNT_STEP_SIGNUP_FORM="china_phone_account_step_signup",_.CHINA_PROFILE_STEP_SIGNUP_FORM="china_profile_step_signup",_.CHINA_PROFILE_WITH_EMAIL_STEP_SIGNUP_FORM="china_profile_with_email_step_light_signup",_.PHONE_CONFIRMATION_CODE="phone_confirmation_code",_.SOCIAL_SIGNUP_FORM="social_signup_form",_.NAVER_SOCIAL_SIGNUP_FORM="naver_social_signup_form",_.EMAIL_SIGNUP_WITH_OTP_PHONE_FORM="email_signup_with_otp_phone",_.SOCIAL_SIGNUP_WITH_OTP_PHONE_FORM="social_signup_with_otp_phone"})(_||(e.SignupFormNames=_={}))}),"b62ba9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,babelHelpers.interopRequireDefault(r(d[0])).default)(()=>r(d[2])(d[1]).then(babelHelpers.interopRequireWildcard));e.default=t}),"c548f6",["a0d5f1","171373","c592d7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(D=(()=>({isLoadingLoginData:!0,isLoadingSignupData:!0,isEmbedded:!1,isFullPage:!1,visibleModal:s.Modals.NO_MODAL,lifecycleStage:s.AuthModalLifecycleStages.INITIAL,pdpListingData:null,bookingData:null,showPdpListing:!1,signupModalContext:null,pdpListingDisabled:!1,showFacebookPrompt:!1,setupData:{},isEmbeddedApp:!1,isModalFocused:!1,authSucceeded:!1}))(),{type:o,payload:c}){switch(o){case _.LOGIN_DATA_RECEIVED:return{...D,isLoadingLoginData:!1};case t.SIGNUP_DATA_RECEIVED:return{...D,isLoadingSignupData:!1};case E.MODAL_OPEN_STARTED:return{...D,authSucceeded:!1,visibleModal:c,lifecycleStage:s.AuthModalLifecycleStages.INITIAL};case E.MODAL_OPEN_SUCCEEDED:return{...D,lifecycleStage:s.AuthModalLifecycleStages.MODAL_OPENED};case E.MODAL_FLOW_FINISHED:return{...D,lifecycleStage:s.AuthModalLifecycleStages.FLOW_FINISHED};case E.SWITCH_TO_MODAL_TRIGGERED:return{...D,visibleModal:c};case E.FORGOT_PASSWORD_CLICKED:return c===s.LoginMethods.PHONE_LOGIN||c===s.LoginMethods.PHONE_OR_EMAIL_LOGIN?{...D}:{...D,visibleModal:s.Modals.FORGOT_PASSWORD_MODAL};case _.LOGIN_PROMPT_MORE_OPTIONS_CLICKED:return{...D,visibleModal:s.Modals.LOGIN_MODAL};case E.MODAL_CLOSED:return{...D,visibleModal:s.Modals.NO_MODAL,showPdpListing:!1,isEmbeddedApp:!1};case t.UNDERAGE_USER_SIGNUP_MODAL_TRIGGERED:case _.OTP_LOGIN_MODAL_TRIGGERED:case _.APRISA_LOGIN_MODAL_TRIGGERED:case E.USER_AUTH_SUCCEEDED:return{...D,visibleModal:s.Modals.NO_MODAL,showFacebookPrompt:!1};case E.USER_AUTH_SUCCEEDED_ANIMATE:return{...D,authSucceeded:!0};case E.BOOKING_DATA_RECEIVED:return{...D,bookingData:c};case E.HIDE_PDP_LISTING:return{...D,pdpListingDisabled:!0,showPdpListing:!1};case E.SETUP_DATA_RECEIVED:return{...D,setupData:c};case E.SET_IS_FULL_PAGE:return{...D,isFullPage:c};case E.SET_IS_EMBEDDED:return{...D,isEmbedded:c};case E.ENABLE_FACEBOOK_PROMPT:return{...D,showFacebookPrompt:!0};case E.HIDE_FACEBOOK_PROMPT:return{...D,showFacebookPrompt:!1};case E.SET_IS_MODAL_FOCUSED:return{...D,isModalFocused:c};case E.SET_IS_EMBEDDED_APP:return{...D,isEmbeddedApp:c};default:return D}};var s=r(d[0]),E=r(d[1]),_=r(d[2]),t=r(d[3])}),"c9f432",["b616d2","e1dfcf","0b0cd0","8a12e4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignupLoginMethodInternalStateSession=void 0;var t={defaultProps:{},propTypes:{}};e.SignupLoginMethodInternalStateSession=t,t.fullyQualifiedName='Authentication.v1.SignupLoginMethodInternalStateSession'}),"f02467",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VALID_ACCOUNT_INFO_SUBMITTED=e.SWITCH_TO_BOX_TRIGGERED=e.SET_PHONE_COUNTRIES=e.INVALID_PASSWORD_SUBMITTED=e.GEETEST_WILL_BE_MOUNTED=void 0;e.SWITCH_TO_BOX_TRIGGERED='airbnb/auth/SWITCH_TO_BOX_TRIGGERED';e.SET_PHONE_COUNTRIES='airbnb/auth/SET_PHONE_COUNTRIES';e.GEETEST_WILL_BE_MOUNTED='airbnb/auth/GEETEST_WILL_BE_MOUNTED';e.INVALID_PASSWORD_SUBMITTED='airbnb/auth/INVALID_PASSWORD_SUBMITTED';e.VALID_ACCOUNT_INFO_SUBMITTED='airbnb/auth/VALID_ACCOUNT_INFO_SUBMITTED'}),"f40bcb",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/c75b.09f0b7cf04.js.map